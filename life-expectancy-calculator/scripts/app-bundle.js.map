{"version":3,"sources":["src/app.js","src/environment.js","src/main.js","src/aboutyou/capitalize-converter.js","src/aboutyou/personalinfo.js","src/health/myhealth.js","src/resources/index.js","src/services/user.js","src/occupation/occupation.js","src/results/results.js","src/utilities/chart.js","src/utilities/readFile.js","src/utilities/slider.js","src/services/data/myHealthData.js","src/services/data/occupationData.js","src/services/data/personalInfoData.js","src/services/data/resultsData.js","src/services/data/stateData.js","src/utilities/calculations/calculateMyHealth.js","src/utilities/calculations/calculateOccupation.js","src/utilities/calculations/calculateResults.js"],"names":["App","httpClient","readFile","message","activate","fetch","data","json","data2","getStateList","configureRouter","config","router","title","map","route","moduleId","name","nav","debug","testing","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","CapitalizeValueConverter","toView","value","replace","txt","charAt","toUpperCase","substr","toLowerCase","ionRangeSlider","personalinfo","user","stateData","slider","calculateResults","calculateOccupation","occupationData","laborArray","length","loadOccupation","gender","person","checkgender","console","log","checkspouse","clientPersonalInfo","checkState","state","self","currentCountyArray","countyWithLifeArrays","stateToCountyMap","get","split","forEach","currentCountyInfo","push","pop","county","checkLifeExpectancy","lifeExpectancy","indexOf","countyLifeExpectancy","checkMaritalStatus","maritalStatus","isSingle","isMarried","isWidowed","isDivorced","myhealth","navigate","occupation","submit","education","calculateEducation","clientResults","addExpectancies","spousePersonalInfo","spouseResults","getLifeTableData","attached","createAgeSlider","calculateMyHealth","formHeightWeight","checkHeight","valid","test","height","validHeight","heightError","feetAndInches","heightInInches","parseInt","validWeight","calculateBMI","validBMI","setIconType","iconType","spouse","bmi","diabetes","checkdiabetes","mental","checkmental","smoking","checksmoking","stillSmoking","checkStillSmoking","back","check","exerciseCalculations","calc","results","exercisePerWeek","calculateExercise","exercise","exerciseLifeExpectancy","alert","smokerCalculations","kindOfSmoker","calculateSmoker","smoker","smokerLifeExpectancy","ageQuitSmoking","clientMyHealth","calculateHealthRank","calculateMentalHealth","calculateAgeOfParents","calculateAlcoholConsumption","spouseMyHealth","tooltip","content","User","clientOccupation","spouseOccupation","currentJobArray","allowDrop","ev","preventDefault","drag","dataTransfer","setData","target","innerText","srcElement","textContent","removeDrop","set","drop","id","occupationArray","getData","index","splice","current","elements","document","getElementsByClassName","occupationName","i","trim","currentTarget","appendChild","income","checkincome","checkOccupation","type","industryArray","publicServiceArray","managementArray","calculationOccupation","isNaN","calculateIncome","chart","checkSpouseDeath","spouseDies","spouseDeath","createSpouseDiesSlider","clientTableAge","chartTuples","clientTuples","spouseTuples","averageTuples","createChart","age","HighCharts","Chart","containerID","Highcharts","text","xAxis","plotOptions","series","pointStart","yAxis","ReadFile","myHealthData","jsonData","stateObject","stateSet","add","State","getCountyList","has","existingValues","County","Male","Female","getCategoryList","jobObject","occupationCategorySet","Category","categoryToJobMap","undefined","Occupation","getOccupationDeathNumber","arrayOccupations","deathTotal","userOccupation","Deaths","getAlcoholConsumption","jsonValue","weekObject","Consumption","Years","alcoholConsumptionImpact","parseFloat","Slider","$","grid","min","max","from","step","onFinish","calculateSpouseDiesEarly","MyHealthData","weight","healthRank","alcoholPerWeek","ageOfParents","OccupationData","incomeLifeExpectancy","occupationType","Set","Map","occupationChangeInLifeExpectancy","PersonalInfoData","race","yearsOfMarriage","yearsSinceSpousePassing","yearsOfDivorce","expectedYearsLeft","ResultsData","marital","healthrank","parentAges","alcohol","overallLifeExpectancy","clientTableValue","spouseTableAge","spouseTableValue","averageTableAge","averageTableValue","finalLifeExpectancy","StateData","CalculateMyHealth","metricWeight","metricHeight","metricHeightSquared","toPrecision","personResults","personHealth","personInfo","jsonName","jsonValueToSearch","CalculateOccupation","loadedData","createJobArrays","currentArray","listToArray","job","CalculateResults","client","clientEthnicityExpectancy","clientResultsData","setUserExpectedAge","calculateDiabetes","spouseEthnicityExpectancy","spouseResultsData","getTestTuples","currentAgeArray","Age","slice","Number","personResultsData","check50","initialValue","less","more","getPercent","number","educationLifeExpectancy","currentValue","pastValue","percentage","difference","check90","check75","check25","check10","toFixed","spouseAverageTuples","spouseAverageTableAge","spouseAverageTableValue","Math","trunc","ageAtMarriage","ageAtPassing","ageAtDivorce","abs"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAOaA,cAAAA,cADZ;AAIC,iBAAYC,UAAZ,EAAwBC,QAAxB,EAAkC;AAAA;;AAChC,WAAKD,UAAL,GAAkBA,UAAlB;AACA,WAAKC,QAAL,GAAgBA,QAAhB;AACA,WAAKC,OAAL,GAAe,4BAAf;AACD;;kBAEKC;;;;;;;;uBACa,KAAKH,UAAL,CAAgBI,KAAhB,CAAsB,+BAAtB;;;AAAbC;;uBACcA,KAAKC,IAAL;;;AAAdC;;AACJ,qBAAKN,QAAL,CAAcO,YAAd,CAA2BD,KAA3B;;;;;;;;;;;;;;;;;kBAGFE,2CAAgBC,QAAQC,QAAQ;AAC9B,WAAKA,MAAL,GAAcA,MAAd;AACAD,aAAOE,KAAP,GAAe,4BAAf;AACAF,aAAOG,GAAP,CAAW,CACT;AACEC,eAAO,CAAC,EAAD,EAAK,cAAL,CADT,EAC+BC,UAAU,uBADzC;AAEEC,cAAM,cAFR,EAEwBJ,OAAO,eAF/B,EAEgDK,KAAK;AAFrD,OADS,EAMT;AACEH,eAAO,UADT,EACqBC,UAAU,iBAD/B;AAEEC,cAAM,UAFR,EAEoBJ,OAAO,WAF3B,EAEwCK,KAAK;AAF7C,OANS,EAWT;AACEH,eAAO,YADT,EACuBC,UAAU,uBADjC;AAEEC,cAAM,YAFR,EAEsBJ,OAAO,YAF7B,EAE2CK,KAAK;AAFhD,OAXS,EAgBT;AACEH,eAAO,SADT,EACoBC,UAAU,iBAD9B;AAEEC,cAAM,SAFR,EAEmBJ,OAAO,SAF1B,EAEqCK,KAAK;AAF1C,OAhBS,EAqBT;AACEH,eAAO,UADT,EACqBC,UAAU,mCAD/B;AAEEC,cAAM,UAFR,EAEoBJ,OAAO,WAF3B,EAEwCK,KAAK;AAF7C,OArBS,CAAX;AA0BD;;;;;;;;;;;oBCnDY;AACbC,WAAO,IADM;AAEbC,aAAS;AAFI;;;;;;;;UCECC,YAAAA;;;;;;;;;;AAAT,WAASA,SAAT,CAAmBC,OAAnB,EAA4B;AACjCA,YAAQC,GAAR,CACGC,qBADH,GAEGC,OAFH,CAEW,WAFX;;AAIA,QAAI,sBAAYN,KAAhB,EAAuB;AACrBG,cAAQC,GAAR,CAAYG,kBAAZ;AACD;;AAED,QAAI,sBAAYN,OAAhB,EAAyB;AACvBE,cAAQC,GAAR,CAAYI,MAAZ,CAAmB,iBAAnB;AACD;;AAEDL,YAAQM,KAAR,GAAgBC,IAAhB,CAAqB;AAAA,aAAMP,QAAQQ,OAAR,EAAN;AAAA,KAArB;AACD;;;;;;;;;;;;;;;QChBYC,mCAAAA;;;;;2CACTC,yBAAOC,OAAO;AACV,mBAAOA,MAAMC,OAAN,CAAc,QAAd,EAAwB,UAASC,GAAT,EAAa;AAAC,uBAAOA,IAAIC,MAAJ,CAAW,CAAX,EAAcC,WAAd,KAA8BF,IAAIG,MAAJ,CAAW,CAAX,EAAcC,WAAd,EAArC;AAAkE,aAAxG,CAAP;AACH;;;;;;;;;;;;;QCCOC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAOCC,uBAAAA,uBADZ;AAGG,8BAAY7B,MAAZ,EAAoB8B,IAApB,EAA0BC,SAA1B,EAAqCC,MAArC,EAA6CC,gBAA7C,EAA+DC,mBAA/D,EAAoFC,cAApF,EAAoG;AAAA;;AAChG,iBAAKH,MAAL,GAAcA,MAAd;AACA,iBAAKhC,MAAL,GAAcA,MAAd;AACA,iBAAK8B,IAAL,GAAYA,IAAZ;AACA,iBAAKC,SAAL,GAAiBA,SAAjB;AACA,iBAAKE,gBAAL,GAAwBA,gBAAxB;AACA,iBAAKC,mBAAL,GAA2BA,mBAA3B;AACA,iBAAKC,cAAL,GAAsBA,cAAtB;AACA,gBAAG,KAAKA,cAAL,CAAoBC,UAApB,CAA+BC,MAA/B,IAAyC,CAA5C,EACIH,oBAAoBI,cAApB;AACP;;+BAEDC,yBAAOC,QAAQ;AACXA,mBAAOC,WAAP,GAAqB,CAACD,OAAOC,WAA7B;AACAD,mBAAOD,MAAP,GAAgBC,OAAOC,WAAP,GAAqB,MAArB,GAA8B,QAA9C;AACAC,oBAAQC,GAAR,CAAYH,MAAZ;AACH;;+BAEDI,qCAAc;AACV,iBAAKd,IAAL,CAAUe,kBAAV,CAA6BD,WAA7B,GAA2C,CAAC,KAAKd,IAAL,CAAUe,kBAAV,CAA6BD,WAAzE;AACH;;+BAIDE,iCAAWN,QAAQ;AACf,gBAAIO,QAAQP,OAAOO,KAAnB;AACA,gBAAGA,SAAS,eAAZ,EAA6B;AACzB,oBAAIC,OAAO,IAAX;AACAR,uBAAOS,kBAAP,GAA4B,EAA5B;AACAF,wBAAQA,MAAMpB,WAAN,EAAR;AACA,oBAAIuB,uBAAuB,KAAKnB,SAAL,CAAeoB,gBAAf,CAAgCC,GAAhC,CAAoCL,KAApC,EAA2CM,KAA3C,CAAiD,GAAjD,CAA3B;AACAH,qCAAqBI,OAArB,CAA6B,UAAU5D,IAAV,EAAgB;AACzC,wBAAI6D,oBAAoB7D,KAAK2D,KAAL,CAAW,GAAX,CAAxB;AACAb,2BAAOS,kBAAP,CAA0BO,IAA1B,CAA+BD,kBAAkB,CAAlB,CAA/B;AACH,iBAHD;AAIAf,uBAAOS,kBAAP,CAA0BQ,GAA1B;AACH,aAVD,MAWKjB,OAAOkB,MAAP,GAAgB,eAAhB;AACR;;+BAGDC,mDAAoBnB,QAAQ;AACxBE,oBAAQC,GAAR,CAAYH,MAAZ;AACA,gBAAGA,OAAOkB,MAAP,IAAiB,eAApB,EAAqC;AACjC,oBAAIX,QAAQP,OAAOO,KAAnB;AACAA,wBAAQA,MAAMpB,WAAN,EAAR;AACA,oBAAIuB,uBAAuB,KAAKnB,SAAL,CAAeoB,gBAAf,CAAgCC,GAAhC,CAAoCL,KAApC,EAA2CM,KAA3C,CAAiD,GAAjD,CAA3B;AACAH,qCAAqBI,OAArB,CAA6B,UAAU5D,IAAV,EAAgB;AACzC,wBAAI6D,oBAAoB7D,KAAK2D,KAAL,CAAW,GAAX,CAAxB;;AAEA,wBAAIO,iBAAkBpB,OAAOC,WAAP,GAAqBc,kBAAkB,CAAlB,CAArB,GAA4CA,kBAAkB,CAAlB,CAAlE;;AAEA,wBAAGA,kBAAkB,CAAlB,EAAqBM,OAArB,CAA6BrB,OAAOkB,MAApC,KAA+C,CAAC,CAAnD,EAAsD;AAClDlB,+BAAOsB,oBAAP,GAA+BtB,OAAOC,WAAP,GAAqBc,kBAAkB,CAAlB,CAArB,GAA4CA,kBAAkB,CAAlB,CAA3E;AACH;AACJ,iBARD;AASH;AACJ;;+BAGDQ,iDAAmBvB,QAAQ;AACvB,gBAAGA,OAAOwB,aAAP,IAAwB,sBAA3B,EAAmD;AAC/CxB,uBAAOyB,QAAP,GAAkB,IAAlB;AACAzB,uBAAO0B,SAAP,GAAmB,KAAnB;AACA1B,uBAAO2B,SAAP,GAAmB,KAAnB;AACA3B,uBAAO4B,UAAP,GAAoB,KAApB;AACH,aALD,MAMK,IAAG5B,OAAOwB,aAAP,IAAwB,qBAA3B,EAAkD;AACnDxB,uBAAO0B,SAAP,GAAmB,IAAnB;AACA1B,uBAAOyB,QAAP,GAAkB,KAAlB;AACAzB,uBAAO2B,SAAP,GAAmB,KAAnB;AACA3B,uBAAO4B,UAAP,GAAoB,KAApB;AACH,aALI,MAMA,IAAG5B,OAAOwB,aAAP,IAAwB,SAA3B,EAAsC;AACvCxB,uBAAO2B,SAAP,GAAmB,IAAnB;AACA3B,uBAAOyB,QAAP,GAAkB,KAAlB;AACAzB,uBAAO0B,SAAP,GAAmB,KAAnB;AACA1B,uBAAO4B,UAAP,GAAoB,KAApB;AACH,aALI,MAMA,IAAG5B,OAAOwB,aAAP,IAAwB,UAA3B,EAAuC;AACxCxB,uBAAO4B,UAAP,GAAoB,IAApB;AACA5B,uBAAOyB,QAAP,GAAkB,KAAlB;AACAzB,uBAAO0B,SAAP,GAAmB,KAAnB;AACA1B,uBAAO2B,SAAP,GAAmB,KAAnB;AACH,aALI,MAMA;AACD3B,uBAAOyB,QAAP,GAAkB,KAAlB;AACAzB,uBAAO0B,SAAP,GAAmB,KAAnB;AACA1B,uBAAO2B,SAAP,GAAmB,KAAnB;AACA3B,uBAAO4B,UAAP,GAAoB,KAApB;AACH;AACJ;;+BAEDC,+BAAW;AACP,iBAAKrE,MAAL,CAAYsE,QAAZ,CAAqB,YAArB;AACH;;+BAEDC,mCAAa;AACT,iBAAKvE,MAAL,CAAYsE,QAAZ,CAAqB,cAArB;AACH;;+BAEKE;;;;;;AAEF,oCAAG,KAAK1C,IAAL,CAAUe,kBAAV,CAA6B4B,SAA7B,IAA0C,KAAK3C,IAAL,CAAUe,kBAAV,CAA6B4B,SAA7B,KAA2C,eAAxF,EAAyG;AACrG,yCAAKxC,gBAAL,CAAsByC,kBAAtB,CAAyC,KAAK5C,IAAL,CAAUe,kBAAnD,EAAuE,KAAKf,IAAL,CAAU6C,aAAjF;AACH;AACD,qCAAK1C,gBAAL,CAAsB2C,eAAtB,CAAsC,KAAK9C,IAAL,CAAU6C,aAAhD;;AAEAjC,wCAAQC,GAAR,CAAY,sBAAZ;AACAD,wCAAQC,GAAR,CAAY,KAAKb,IAAL,CAAUe,kBAAtB;AACAH,wCAAQC,GAAR,CAAY,KAAKb,IAAL,CAAU6C,aAAtB;;AAGA,oCAAG,KAAK7C,IAAL,CAAUe,kBAAV,CAA6BD,WAAhC,EAA4C;AACxC,wCAAG,KAAKd,IAAL,CAAU+C,kBAAV,CAA6BJ,SAA7B,IAA0C,KAAK3C,IAAL,CAAU+C,kBAAV,CAA6BJ,SAA7B,KAA2C,eAAxF,EAAyG;AACrG,6CAAKxC,gBAAL,CAAsByC,kBAAtB,CAAyC,KAAK5C,IAAL,CAAU+C,kBAAnD,EAAuE,KAAK/C,IAAL,CAAUgD,aAAjF;AACH;AACD,yCAAK7C,gBAAL,CAAsB2C,eAAtB,CAAsC,KAAK9C,IAAL,CAAUgD,aAAhD;;AAEApC,4CAAQC,GAAR,CAAY,sBAAZ;AACAD,4CAAQC,GAAR,CAAY,KAAKb,IAAL,CAAU+C,kBAAtB;AACAnC,4CAAQC,GAAR,CAAY,KAAKb,IAAL,CAAUgD,aAAtB;AACH;;;uCAEK,KAAK7C,gBAAL,CAAsB8C,gBAAtB,CAAuC,KAAKjD,IAAL,CAAUe,kBAAjD,EAAqE,KAAKf,IAAL,CAAU6C,aAA/E,EACF,KAAK7C,IAAL,CAAU+C,kBADR,EAC4B,KAAK/C,IAAL,CAAUgD,aADtC;;;;AAGN,qCAAK9E,MAAL,CAAYsE,QAAZ,CAAqB,WAArB;;;;;;;;;;;;;;;;;+BAGJU,+BAAW;AACP,iBAAKhD,MAAL,CAAYiD,eAAZ;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCzIQZ,mBAAAA,mBADZ;AAIG,0BAAYrE,MAAZ,EAAoB8B,IAApB,EAA0BoD,iBAA1B,EAA6C;AAAA;;AAAA,iBAF7CC,gBAE6C,GAF1B,EAE0B;;AACzC,iBAAKD,iBAAL,GAAyBA,iBAAzB;AACA,iBAAKlF,MAAL,GAAcA,MAAd;AACA,iBAAK8B,IAAL,GAAYA,IAAZ;AACH;;2BAGDsD,mCAAY5C,QAAQ;AAChB,gBAAI6C,QAAQ,4BAA4BC,IAA5B,CAAiC9C,OAAO+C,MAAxC,CAAZ;AACA/C,mBAAOgD,WAAP,GAAqBH,KAArB;AACA7C,mBAAOiD,WAAP,GAAqBJ,QAAQ,EAAR,GAAa,WAAlC;AACA,gBAAGA,KAAH,EAAU;AACN,oBAAIK,gBAAgBlD,OAAO+C,MAAP,CAAclC,KAAd,CAAoB,GAApB,CAApB;AACAb,uBAAOmD,cAAP,GAAwBC,SAASF,cAAc,CAAd,CAAT,IAA6B,EAA7B,GAAkCE,SAASF,cAAc,CAAd,CAAT,CAA1D;AACH;;AAED,gBAAGlD,OAAOqD,WAAV,EAAuB;AACnB,qBAAKC,YAAL,CAAkBtD,MAAlB;AACH;AACJ;;2BAGDsD,qCAAatD,QAAQ;AACjB,gBAAGA,OAAOgD,WAAV,EAAuB;AACnB,qBAAKN,iBAAL,CAAuBY,YAAvB,CAAoCtD,MAApC;AACAA,uBAAOuD,QAAP,GAAkB,IAAlB;AACA,qBAAKC,WAAL,CAAiBxD,MAAjB,EAAyB,KAAzB;AACAA,uBAAOyD,QAAP,GAAkB,yBAAyBzD,OAAOyD,QAAhC,GAA2C,MAA7D;AACH;AACDzD,mBAAOqD,WAAP,GAAqB,IAArB;AACArD,mBAAO2C,gBAAP,GAA0B,IAA1B;AACH;;2BAGDa,mCAAYxD,QAAQ0D,QAAQ;AACxB,oBAAO,IAAP;AACI,qBAAK1D,OAAO2D,GAAP,GAAa,IAAlB;AACI3D,2BAAOyD,QAAP,GAAkB,aAAlB;AACA;AACJ,qBAAKzD,OAAO2D,GAAP,IAAc,IAAd,IAAsB3D,OAAO2D,GAAP,GAAa,EAAxC;AACI3D,2BAAOyD,QAAP,GAAkB,QAAlB;AACA;AACJ,qBAAKzD,OAAO2D,GAAP,IAAc,EAAd,IAAoB3D,OAAO2D,GAAP,GAAa,EAAtC;AACI3D,2BAAOyD,QAAP,GAAkB,YAAlB;AACA;AACJ,qBAAKzD,OAAO2D,GAAP,GAAa,EAAb,IAAmB3D,OAAO2D,GAAP,GAAa,EAArC;AACI3D,2BAAOyD,QAAP,GAAkB,OAAlB;AACA;AACJ;AACIzD,2BAAOyD,QAAP,GAAkB,iBAAlB;AACA;AAfR;AAiBA,mBAAOzD,MAAP;AACH;;2BAED4D,6BAAS5D,QAAQ;AACbA,mBAAO6D,aAAP,GAAuB,CAAC7D,OAAO6D,aAA/B;AACH;;2BAEDC,yBAAO9D,QAAQ;AACXA,mBAAO+D,WAAP,GAAqB,CAAC/D,OAAO+D,WAA7B;AACH;;2BAGDC,2BAAQhE,QAAQ;AACZA,mBAAOiE,YAAP,GAAsB,CAACjE,OAAOiE,YAA9B;AACH;;2BAEDC,qCAAalE,QAAQ;AACjBA,mBAAOmE,iBAAP,GAA2B,CAACnE,OAAOmE,iBAAnC;AACH;;2BAEDC,uBAAO;AACH,iBAAK5G,MAAL,CAAYsE,QAAZ,CAAqB,gBAArB;AACH;;2BAEDE,2BAAS;AACL,gBAAIqC,QAAQ,IAAZ;;AAGA,qBAASC,oBAAT,CAA8BtE,MAA9B,EAAsCuE,IAAtC,EAA4CC,OAA5C,EAAqD;AACjD,oBAAGxE,OAAOyE,eAAP,IAA0BzE,OAAOyE,eAAP,IAA0B,eAAvD,EAAwE;AACpE,wBAAGzE,OAAO2D,GAAV,EAAe;AACXY,6BAAKG,iBAAL,CAAuB1E,MAAvB;AACAwE,gCAAQG,QAAR,GAAmB3E,OAAO4E,sBAA1B;AACH,qBAHD,MAIK;AACDP,gCAAQ,KAAR;AACAQ,8BAAM,mDAAN;AACH;AACJ;AACJ;;AAED,qBAASC,kBAAT,CAA4B9E,MAA5B,EAAoCuE,IAApC,EAA0CC,OAA1C,EAAmD;AAC/C,oBAAGxE,OAAOiE,YAAV,EAAwB;AACpB,wBAAGjE,OAAO+E,YAAP,IAAuB/E,OAAO+E,YAAP,IAAuB,eAAjD,EAAkE;AAC9D,4BAAG/E,OAAOmE,iBAAV,EAA6B;AACzBI,iCAAKS,eAAL,CAAqBhF,MAArB;AACAwE,oCAAQS,MAAR,GAAiBjF,OAAOkF,oBAAxB;AACH;AACJ,qBALD,MAMK;AACDb,gCAAQ,KAAR;AACAQ,8BAAM,mCAAN;AACH;;AAED,wBAAG,CAAC7E,OAAOmE,iBAAR,IAA6BnE,OAAOmF,cAApC,IAAsDnF,OAAOmF,cAAP,IAAyB,eAAlF,EAAmG;AAC/FZ,6BAAKS,eAAL,CAAqBhF,MAArB;AACAwE,gCAAQS,MAAR,GAAiBjF,OAAOkF,oBAAxB;AACH,qBAHD,MAIK,IAAG,CAAClF,OAAOmE,iBAAR,KAA8BnE,OAAOmF,cAAP,IAAyBnF,OAAOmF,cAAP,IAAyB,eAAhF,CAAH,EAAqG;AACtGd,gCAAQ,KAAR;AACAQ,8BAAM,iCAAN;AACH;AACJ;AACJ;;AAIDP,iCAAqB,KAAKhF,IAAL,CAAU8F,cAA/B,EAA+C,KAAK1C,iBAApD,EAAuE,KAAKpD,IAAL,CAAU6C,aAAjF;AACA2C,+BAAmB,KAAKxF,IAAL,CAAU8F,cAA7B,EAA6C,KAAK1C,iBAAlD,EAAqE,KAAKpD,IAAL,CAAU6C,aAA/E;AACA,iBAAKO,iBAAL,CAAuB2C,mBAAvB,CAA2C,KAAK/F,IAAL,CAAU8F,cAArD,EAAqE,KAAK9F,IAAL,CAAU6C,aAA/E;AACA,iBAAKO,iBAAL,CAAuB4C,qBAAvB,CAA6C,KAAKhG,IAAL,CAAU8F,cAAvD,EAAuE,KAAK9F,IAAL,CAAU6C,aAAjF;AACA,iBAAKO,iBAAL,CAAuB6C,qBAAvB,CAA6C,KAAKjG,IAAL,CAAU8F,cAAvD,EAAuE,KAAK9F,IAAL,CAAU6C,aAAjF,EAAgG,KAAK7C,IAAL,CAAUe,kBAAV,CAA6BN,MAA7H;AACA,iBAAK2C,iBAAL,CAAuB8C,2BAAvB,CAAmD,KAAKlG,IAAL,CAAU8F,cAA7D,EAA6E,KAAK9F,IAAL,CAAUe,kBAAvF,EAA2G,KAAKf,IAAL,CAAU6C,aAArH;AACAjC,oBAAQC,GAAR,CAAY,KAAKb,IAAL,CAAU8F,cAAtB;;AAGA,gBAAG,KAAK9F,IAAL,CAAUe,kBAAV,CAA6BD,WAAhC,EAA6C;AACzCkE,qCAAqB,KAAKhF,IAAL,CAAUmG,cAA/B,EAA+C,KAAK/C,iBAApD,EAAuE,KAAKpD,IAAL,CAAUgD,aAAjF;AACAwC,mCAAmB,KAAKxF,IAAL,CAAUmG,cAA7B,EAA6C,KAAK/C,iBAAlD,EAAqE,KAAKpD,IAAL,CAAUgD,aAA/E;AACA,qBAAKI,iBAAL,CAAuB2C,mBAAvB,CAA2C,KAAK/F,IAAL,CAAUmG,cAArD,EAAqE,KAAKnG,IAAL,CAAUgD,aAA/E;AACA,qBAAKI,iBAAL,CAAuB4C,qBAAvB,CAA6C,KAAKhG,IAAL,CAAUmG,cAAvD,EAAuE,KAAKnG,IAAL,CAAUgD,aAAjF;AACA,qBAAKI,iBAAL,CAAuB6C,qBAAvB,CAA6C,KAAKjG,IAAL,CAAUmG,cAAvD,EAAuE,KAAKnG,IAAL,CAAUgD,aAAjF,EAAgG,KAAKhD,IAAL,CAAUe,kBAAV,CAA6BN,MAA7H;AACA,qBAAK2C,iBAAL,CAAuB8C,2BAAvB,CAAmD,KAAKlG,IAAL,CAAUmG,cAA7D,EAA6E,KAAKnG,IAAL,CAAUmG,cAAvF,EAAuG,KAAKnG,IAAL,CAAUgD,aAAjH;AACApC,wBAAQC,GAAR,CAAY,KAAKb,IAAL,CAAUmG,cAAtB;AACH;;AAED,gBAAGpB,KAAH,EAAU,KAAK7G,MAAL,CAAYsE,QAAZ,CAAqB,gBAArB;AACb;;2BAGDU,+BAAW;AAEP,kCAAE,iBAAF,EAAqBkD,OAArB,CAA8B;AAC1BC,yBAAS;AADiB,aAA9B;;AAIA,kCAAE,iBAAF,EAAqBD,OAArB,CAA8B;AAC1BC,yBAAS;AADiB,aAA9B;;AAIA,kCAAE,mBAAF,EAAuBD,OAAvB,CAAgC;AAC5BC,yBAAS;AADmB,aAAhC;;AAIA,kCAAE,sBAAF,EAA0BD,OAA1B,CAAkC;AAC9BC,yBAAS;AADqB,aAAlC;;AAIA,kCAAE,iBAAF,EAAqBD,OAArB,CAA6B;AACzBC,yBAAS,8DACL,+BADK,GAEL,4BAFK,GAGL,mCAHK,GAIL;AALqB,aAA7B;;AASA,kCAAE,wBAAF,EAA4BD,OAA5B,CAAqC;AACjCC,yBAAS;AADwB,aAArC;;AAIA,kCAAE,wBAAF,EAA4BD,OAA5B,CAAqC;AACjCC,yBAAS;AADwB,aAArC;;AAIA,kCAAE,0BAAF,EAA8BD,OAA9B,CAAuC;AACnCC,yBAAS;AAD0B,aAAvC;;AAIA,kCAAE,6BAAF,EAAiCD,OAAjC,CAAyC;AACrCC,yBAAS;AAD4B,aAAzC;;AAIA,kCAAE,wBAAF,EAA4BD,OAA5B,CAAoC;AAChCC,yBAAS,8DACL,+BADK,GAEL,4BAFK,GAGL,mCAHK,GAIL;AAL4B,aAApC;AAQH;;;;;;;;;;;UC5MW1H,YAAAA;AAAT,WAASA,SAAT,CAAmBV,MAAnB,EAA2B,CAEjC;;;;;;;;;;;;;;;;;;QCKYqI,eAAAA,eADZ,kDAEG,gBAAc;AAAA;;AACV,aAAKvF,kBAAL,GAA0B,wCAA1B;AACA,aAAKgC,kBAAL,GAA0B,wCAA1B;;AAEA,aAAK+C,cAAL,GAAsB,gCAAtB;AACA,aAAKK,cAAL,GAAsB,gCAAtB;;AAEA,aAAKI,gBAAL,GAAwB,oCAAxB;AACA,aAAKC,gBAAL,GAAwB,oCAAxB;;AAEA,aAAK3D,aAAL,GAAqB,8BAArB;AACA,aAAKG,aAAL,GAAqB,8BAArB;AACH;;;;;;;;;;;;;;;;;;QCbQP,qBAAAA,qBADZ;AAGG,4BAAYvE,MAAZ,EAAoB8B,IAApB,EAA0BI,mBAA1B,EAA+CC,cAA/C,EAA+D;AAAA;;AAC3D,iBAAKnC,MAAL,GAAcA,MAAd;AACA,iBAAK8B,IAAL,GAAYA,IAAZ;AACA,iBAAKI,mBAAL,GAA2BA,mBAA3B;AACA,iBAAKC,cAAL,GAAsBA,cAAtB;AACA,iBAAKA,cAAL,CAAoBoG,eAApB,GAAsC,KAAKpG,cAAL,CAAoBC,UAA1D;AACH;;6BAGDoG,+BAAUC,IAAI;AACVA,eAAGC,cAAH;AACH;;6BAEDC,qBAAKF,IAAI;AACLA,eAAGG,YAAH,CAAgBC,OAAhB,CAAwB,UAAxB,EAAoCJ,GAAGK,MAAH,CAAUC,SAA9C;AACAN,eAAGG,YAAH,CAAgBC,OAAhB,CAAwB,WAAxB,EAAqCJ,GAAGO,UAAH,CAAcC,WAAnD;AACA,mBAAO,IAAP;AACH;;6BAEDC,iCAAWT,IAAI;AACXA,eAAGG,YAAH,CAAgBO,GAAhB;AACH;;6BAEDC,qBAAKX,IAAI;AACLA,eAAGC,cAAH;AACA,gBAAGD,GAAGK,MAAH,CAAUO,EAAV,KAAiB,iBAApB,EAAuC;AACnC,qBAAKvH,IAAL,CAAUwG,gBAAV,CAA2BgB,eAA3B,CAA2C9F,IAA3C,CAAgDiF,GAAGG,YAAH,CAAgBW,OAAhB,CAAwB,WAAxB,CAAhD;AACA,oBAAIC,QAAQ,KAAKrH,cAAL,CAAoBoG,eAApB,CAAoC1E,OAApC,CAA4C4E,GAAGG,YAAH,CAAgBW,OAAhB,CAAwB,WAAxB,CAA5C,CAAZ;AACA,qBAAKpH,cAAL,CAAoBoG,eAApB,CAAoCkB,MAApC,CAA2CD,KAA3C,EAAkD,CAAlD;AACH;AACD,gBAAGf,GAAGK,MAAH,CAAUO,EAAV,KAAiB,UAApB,EAAgC;AAC5B,qBAAKvH,IAAL,CAAUuG,gBAAV,CAA2BiB,eAA3B,CAA2C9F,IAA3C,CAAgDiF,GAAGG,YAAH,CAAgBW,OAAhB,CAAwB,WAAxB,CAAhD;AACA,oBAAIC,QAAQ,KAAKrH,cAAL,CAAoBoG,eAApB,CAAoC1E,OAApC,CAA4C4E,GAAGG,YAAH,CAAgBW,OAAhB,CAAwB,WAAxB,CAA5C,CAAZ;AACA,qBAAKpH,cAAL,CAAoBoG,eAApB,CAAoCkB,MAApC,CAA2CD,KAA3C,EAAkD,CAAlD;AACH;AACD,gBAAIE,OAAJ;AACA,gBAAIhK,OAAO+I,GAAGG,YAAH,CAAgBW,OAAhB,CAAwB,UAAxB,CAAX;AACA,gBAAII,WAAWC,SAASC,sBAAT,CAAgC,iBAAhC,CAAf;AACA,gBAAIC,cAAJ;AACA,iBAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIJ,SAAStH,MAA5B,EAAoC0H,GAApC,EAAyC;AACrC,oBAAIJ,SAASI,CAAT,EAAYd,WAAb,CAA0Be,IAA1B,OAAqCtK,KAAKsK,IAAL,EAAxC,EAAqD;AACjDN,8BAAUC,SAASI,CAAT,CAAV;AACAD,qCAAiBH,SAASI,CAAT,EAAYd,WAAZ,CAAwBe,IAAxB,EAAjB;AACH;AACJ;AACDvB,eAAGwB,aAAH,CAAiBC,WAAjB,CAA6BR,OAA7B;AACH;;6BAGDS,yBAAO3H,QAAQ;AACXA,mBAAO4H,WAAP,GAAqB,CAAC5H,OAAO4H,WAA7B;AACH;;6BAGDC,2CAAgB7H,QAAQsH,gBAAgB;AACpCtH,mBAAO8H,IAAP,GAAcR,eAAeQ,IAA7B;AACA,oBAAO,IAAP;AACI,qBAAKR,eAAeQ,IAAf,CAAoBN,IAApB,OAA+B,mBAApC;AACI,yBAAK7H,cAAL,CAAoBoG,eAApB,GAAsC,KAAKpG,cAAL,CAAoBC,UAA1D;AACA;AACJ,qBAAK0H,eAAeQ,IAAf,CAAoBN,IAApB,OAA+B,UAApC;AACI,yBAAK7H,cAAL,CAAoBoG,eAApB,GAAsC,KAAKpG,cAAL,CAAoBoI,aAA1D;AACA;AACJ,qBAAKT,eAAeQ,IAAf,CAAoBN,IAApB,OAA+B,gBAApC;AACI,yBAAK7H,cAAL,CAAoBoG,eAApB,GAAsC,KAAKpG,cAAL,CAAoBqI,kBAA1D;AACA;AACJ,qBAAKV,eAAeQ,IAAf,CAAoBN,IAApB,OAA+B,YAApC;AACI,yBAAK7H,cAAL,CAAoBoG,eAApB,GAAsC,KAAKpG,cAAL,CAAoBsI,eAA1D;AACA;AAZR;AAcH;;6BAID7D,uBAAO;AACH,iBAAK5G,MAAL,CAAYsE,QAAZ,CAAqB,gBAArB;AACH;;6BAEDE,2BAAS;AACL,gBAAIqC,QAAQ,IAAZ;AACA,gBAAG,KAAK/E,IAAL,CAAUuG,gBAAV,CAA2BiB,eAA3B,CAA2CjH,MAA3C,IAAqD,CAAxD,EACI,KAAKH,mBAAL,CAAyBwI,qBAAzB,CAA+C,KAAK5I,IAAL,CAAUuG,gBAAzD;AACJ,gBAAG,KAAKvG,IAAL,CAAUwG,gBAAV,CAA2BgB,eAA3B,CAA2CjH,MAA3C,IAAqD,CAAxD,EACI,KAAKH,mBAAL,CAAyBwI,qBAAzB,CAA+C,KAAK5I,IAAL,CAAUwG,gBAAzD;AACJ,gBAAG,KAAKxG,IAAL,CAAUuG,gBAAV,CAA2B+B,WAA9B,EAA2C;AACvC,oBAAG,CAACO,MAAM,KAAK7I,IAAL,CAAUuG,gBAAV,CAA2B8B,MAAjC,CAAJ,EAA8C;AAC1C,yBAAKjI,mBAAL,CAAyB0I,eAAzB,CAAyC,KAAK9I,IAAL,CAAUuG,gBAAnD,EAAqE,KAAKvG,IAAL,CAAUe,kBAAV,CAA6BN,MAAlG,EAA0G,KAAKT,IAAL,CAAU6C,aAApH;AACH,iBAFD,MAGK;AACDkC,4BAAQ,KAAR;AACAQ,0BAAM,sBAAN;AACH;AACJ;;AAED,gBAAG,KAAKvF,IAAL,CAAUe,kBAAV,CAA6BD,WAAhC,EAA6C;AACzC,oBAAG,KAAKd,IAAL,CAAUwG,gBAAV,CAA2B8B,WAA9B,EAA2C;AACvC,wBAAG,CAACO,MAAM,KAAK7I,IAAL,CAAUwG,gBAAV,CAA2B6B,MAAjC,CAAJ,EAA8C;AAC1C,6BAAKjI,mBAAL,CAAyB0I,eAAzB,CAAyC,KAAK9I,IAAL,CAAUwG,gBAAnD,EAAqE,KAAKxG,IAAL,CAAU+C,kBAAV,CAA6BtC,MAAlG,EAA0G,KAAKT,IAAL,CAAUgD,aAApH;AACH,qBAFD,MAGK;AACD+B,gCAAQ,KAAR;AACAQ,8BAAM,sBAAN;AACH;AACJ;AACJ;;AAED,gBAAGR,KAAH,EAAU,KAAK7G,MAAL,CAAYsE,QAAZ,CAAqB,gBAArB;AACb;;;;;;;;;;;;;;;;;;;;;QC5GQ0C,kBAAAA,kBADZ;AAEG,yBAAYhH,MAAZ,EAAoB8B,IAApB,EAA0B+I,KAA1B,EAAiC5I,gBAAjC,EAAmDD,MAAnD,EAA2D;AAAA;;AACvD,iBAAKhC,MAAL,GAAcA,MAAd;AACA,iBAAK8B,IAAL,GAAYA,IAAZ;AACA,iBAAK+I,KAAL,GAAaA,KAAb;AACA,iBAAK5I,gBAAL,GAAwBA,gBAAxB;AACA,iBAAKD,MAAL,GAAcA,MAAd;AACH;;0BAED8I,6CAAiBtI,QAAQ;AACrBA,mBAAOsI,gBAAP,GAA0B,CAACtI,OAAOsI,gBAAlC;AACH;;0BAEDC,iCAAWvI,QAAQ;AACfE,oBAAQC,GAAR,CAAYH,OAAOwI,WAAnB;AACH;;0BAEDhG,+BAAW;AACP,iBAAKhD,MAAL,CAAYiJ,sBAAZ;AACAvI,oBAAQC,GAAR,CAAY,KAAKb,IAAL,CAAU6C,aAAV,CAAwBuG,cAApC;AACA,gBAAIC,cAAc,EAAlB;AACA,gBAAG,KAAKrJ,IAAL,CAAUe,kBAAV,CAA6BD,WAAhC,EAA6C;AACzCuI,8BAAc,CAAC;AACP9K,0BAAM,QADC;AAEPX,0BAAO,KAAKoC,IAAL,CAAU6C,aAAV,CAAwByG;AAFxB,iBAAD,EAGP;AACC/K,0BAAM,WADP;AAECX,0BAAO,KAAKoC,IAAL,CAAUgD,aAAV,CAAwBuG;AAFhC,iBAHO,EAMP;AACChL,0BAAM,SADP;AAECX,0BAAO,KAAKoC,IAAL,CAAU6C,aAAV,CAAwB2G;AAFhC,iBANO,CAAd;AAUH,aAXD,MAYK;AACDH,8BAAc,CAAC;AACP9K,0BAAM,QADC;AAEPX,0BAAO,KAAKoC,IAAL,CAAU6C,aAAV,CAAwByG;AAFxB,iBAAD,EAGP;AACC/K,0BAAM,SADP;AAECX,0BAAO,KAAKoC,IAAL,CAAU6C,aAAV,CAAwB2G;AAFhC,iBAHO,CAAd;AAOH;;AAED,iBAAKT,KAAL,CAAWU,WAAX,CAAuB,iBAAvB,EAA0C,KAAKzJ,IAAL,CAAUe,kBAAV,CAA6B2I,GAAvE,EAA4EL,WAA5E;AACH;;0BAEDvE,uBAAO;AACH,iBAAK5G,MAAL,CAAYsE,QAAZ,CAAqB,gBAArB;AACH;;;;;;;;;;;;;QCvDOmH;;;;;;;;;;;;;;;;;;;;;;;;;;;QAICC,gBAAAA,gBADZ;AAEG,uBAAY5J,IAAZ,EAAkB;AAAA;;AACd,iBAAKA,IAAL,GAAYA,IAAZ;AACH;;wBAEDyJ,mCAAYI,aAAaH,KAAKL,aAAa;AAEvCS,uBAAWf,KAAX,CAAiBc,WAAjB,EAA8B;AACtB1L,uBAAO;AACH4L,0BAAM;AADH,iBADe;AAItBC,uBAAO;AACH7L,2BAAO;AACH4L,8BAAM;AADH;AADJ,iBAJe;AAStBE,6BAAa;AACTC,4BAAQ;AACJC,oCAAYT;AADR;AADC,iBATS;AActBU,uBAAO;AACHjM,2BAAO;AACH4L,8BAAM;AADH;AADJ,iBAde;AAmBtBG,wBAAQb;AAnBc,aAA9B;AAqBH;;;;;;;;;;;;;;;;;;;;;QC3BQgB,mBAAAA,mBADZ;AAGG,0BAAYpK,SAAZ,EAAuBI,cAAvB,EAAuCiK,YAAvC,EAAqD;AAAA;;AACjD,iBAAKrK,SAAL,GAAiBA,SAAjB;AACA,iBAAKI,cAAL,GAAsBA,cAAtB;AACA,iBAAKiK,YAAL,GAAoBA,YAApB;AACH;;2BAGDvM,qCAAawM,UAAU;AACnB,gBAAIrJ,OAAO,IAAX;AACAqJ,qBAAS/I,OAAT,CAAiB,UAAUgJ,WAAV,EAAuB;AACpCtJ,qBAAKjB,SAAL,CAAewK,QAAf,CAAwBC,GAAxB,CAA4BF,YAAYG,KAAZ,CAAkB9K,WAAlB,EAA5B;AACH,aAFD;AAGA,iBAAK+K,aAAL,CAAmBL,QAAnB;AACH;;2BAGDK,uCAAcL,UAAU;AACpB,gBAAIrJ,OAAO,IAAX;AACAqJ,qBAAS/I,OAAT,CAAiB,UAAUgJ,WAAV,EAAsB;AACnC,oBAAGtJ,KAAKjB,SAAL,CAAeoB,gBAAf,CAAgCwJ,GAAhC,CAAoCL,YAAYG,KAAZ,CAAkB9K,WAAlB,EAApC,CAAH,EAAyE;AAClE,wBAAIiL,iBAAiB5J,KAAKjB,SAAL,CAAeoB,gBAAf,CAAgCC,GAAhC,CAAoCkJ,YAAYG,KAAZ,CAAkB9K,WAAlB,EAApC,CAArB;;AAEAiL,sCAAkB,MAAMN,YAAYO,MAAZ,CAAmBlL,WAAnB,EAAN,GAAyC,GAAzC,GAA+C2K,YAAYQ,IAA3D,GAAkE,GAAlE,GAAwER,YAAYS,MAApF,GAA6F,GAA/G;AACA/J,yBAAKjB,SAAL,CAAeoB,gBAAf,CAAgCgG,GAAhC,CAAoCmD,YAAYG,KAAZ,CAAkB9K,WAAlB,EAApC,EAAqEiL,cAArE;AACN,iBALD,MAMK5J,KAAKjB,SAAL,CAAeoB,gBAAf,CAAgCgG,GAAhC,CAAoCmD,YAAYG,KAAZ,CAAkB9K,WAAlB,EAApC,EAAqE2K,YAAYO,MAAZ,CAAmBlL,WAAnB,KAAmC,GAAnC,GAAyC2K,YAAYQ,IAArD,GAA4D,GAA5D,GAAkER,YAAYS,MAA9E,GAAuF,GAA5J;AACR,aARD;AASH;;2BAGDC,2CAAgBX,UAAU;AACtB,gBAAIrJ,OAAO,IAAX;AACAqJ,qBAAS/I,OAAT,CAAiB,UAAC2J,SAAD,EAAe;AAC5BjK,qBAAKb,cAAL,CAAoB+K,qBAApB,CAA0CV,GAA1C,CAA8CS,UAAUE,QAAxD;AACA,oBAAIP,iBAAiB5J,KAAKb,cAAL,CAAoBiL,gBAApB,CAAqChK,GAArC,CAAyC6J,UAAUE,QAAnD,CAArB;AACA,oBAAGP,mBAAmBS,SAAtB,EAAiCT,iBAAiB,EAAjB;AACjCA,kCAAkB,MAAMK,UAAUK,UAAhB,GAA6B,GAA/C;AACAtK,qBAAKb,cAAL,CAAoBiL,gBAApB,CAAqCjE,GAArC,CAAyC8D,UAAUE,QAAnD,EAA6DP,cAA7D;AACH,aAND;AAOH;;2BAGDW,6DAAyBlB,UAAUmB,kBAAkB;AACjD,gBAAIxK,OAAO,IAAX;AACA,gBAAIyK,aAAa,CAAjB;AACApB,qBAAS/I,OAAT,CAAiB,UAAC2J,SAAD,EAAe;AAC5BO,iCAAiBlK,OAAjB,CAAyB,UAACoK,cAAD,EAAoB;AACzC,wBAAGA,eAAe1D,IAAf,OAA0BiD,UAAUK,UAAV,CAAqBtD,IAArB,EAA7B,EAA0D;AACtDyD,sCAAc7H,SAASqH,UAAUU,MAAnB,CAAd;AACH;AACJ,iBAJD;AAKH,aAND;AAOA,mBAAOF,UAAP;AACH;;2BAGDG,uDAAsBpL,QAAQ6J,UAAUwB,WAAW;AAC/C,gBAAI7K,OAAO,IAAX;AACAqJ,qBAAS/I,OAAT,CAAiB,UAACwK,UAAD,EAAgB;AAC7B,oBAAGA,WAAWC,WAAX,KAA2BF,SAA9B,EAAyC;AACrCnL,4BAAQC,GAAR,CAAYmL,WAAWC,WAAvB;AACArL,4BAAQC,GAAR,CAAYmL,WAAWE,KAAvB;AACAxL,2BAAOyL,wBAAP,GAAkCC,WAAWJ,WAAWE,KAAtB,CAAlC;AACH;AACJ,aAND;AAOH;;;;;;;;;;;;;QCvEOpM;;;;;;;;;;;;;;;;;;;;;;;;;;;QAICuM,iBAAAA,iBADZ;AAEG,wBAAYrM,IAAZ,EAAkBG,gBAAlB,EAAoC;AAAA;;AAChC,iBAAKH,IAAL,GAAYA,IAAZ;AACA,iBAAKG,gBAAL,GAAwBA,gBAAxB;AACH;;yBAEDgD,6CAAkB;AAAA;;AACdmJ,cAAE,MAAF,EAAUxM,cAAV,CAAyB;AACrByM,sBAAM,IADe;AAErBC,qBAAK,CAFgB;AAGrBC,qBAAK,GAHgB;AAIrBC,sBAAM,KAAK1M,IAAL,CAAUe,kBAAV,CAA6B2I,GAJd;AAKrBiD,sBAAM,CALe;AAMrBC,0BAAU,kBAAChP,IAAD,EAAU;AAChB,0BAAKoC,IAAL,CAAUe,kBAAV,CAA6B2I,GAA7B,GAAmC9L,KAAK8O,IAAxC;AACH;AARoB,aAAzB;;AAWAJ,cAAE,YAAF,EAAgBxM,cAAhB,CAA+B;AAC3ByM,sBAAM,IADqB;AAE3BC,qBAAK,CAFsB;AAG3BC,qBAAK,GAHsB;AAI3BC,sBAAM,KAAK1M,IAAL,CAAU+C,kBAAV,CAA6B2G,GAJR;AAK3BiD,sBAAM,CALqB;AAM3BC,0BAAU,kBAAChP,IAAD,EAAU;AAChB,0BAAKoC,IAAL,CAAU+C,kBAAV,CAA6B2G,GAA7B,GAAmC9L,KAAK8O,IAAxC;AACH;AAR0B,aAA/B;AAUH;;yBAEDvD,2DAAyB;AAAA;;AACrBmD,cAAE,aAAF,EAAiBxM,cAAjB,CAAgC;AAC5ByM,sBAAM,IADsB;AAE5BC,qBAAK,KAAKxM,IAAL,CAAU+C,kBAAV,CAA6B2G,GAFN;AAG5B+C,qBAAK,GAHuB;AAI5BC,sBAAM,KAAK1M,IAAL,CAAU+C,kBAAV,CAA6B2G,GAA7B,GAAmC,EAJb;AAK5BiD,sBAAM,CALsB;AAM5BC,0BAAU,kBAAChP,IAAD,EAAU;AAChB,2BAAKoC,IAAL,CAAU6C,aAAV,CAAwBqG,WAAxB,GAAsCtL,KAAK8O,IAA3C;AACA,2BAAKvM,gBAAL,CAAsB0M,wBAAtB,CAA+C,OAAK7M,IAAL,CAAUe,kBAAzD,EAA6E,OAAKf,IAAL,CAAU6C,aAAvF,EACI,OAAK7C,IAAL,CAAU+C,kBADd,EACkC,OAAK/C,IAAL,CAAUgD,aAD5C;AAEH;AAV2B,aAAhC;AAYH;;;;;;;;;;;;;;;;;;YCjDQ8J,uBAAAA,eACT,wBAAc;AAAA;;AACV,qBAAKrJ,MAAL;AACA,qBAAKI,cAAL;AACA,qBAAKkJ,MAAL;AACA,qBAAK1I,GAAL;AACA,qBAAKhB,gBAAL,GAAwB,KAAxB;AACA,qBAAKiC,sBAAL,GAA8B,CAA9B;;AAEA,qBAAK5B,WAAL,GAAmB,KAAnB;AACA,qBAAKK,WAAL,GAAmB,KAAnB;AACA,qBAAKE,QAAL,GAAgB,KAAhB;AACA,qBAAKE,QAAL,GAAgB,aAAhB;AACA,qBAAKR,WAAL,GAAmB,EAAnB;;AAEA,qBAAKwB,eAAL;AACA,qBAAK6H,UAAL;AACA,qBAAKzI,aAAL,GAAqB,KAArB;AACA,qBAAKE,WAAL,GAAmB,KAAnB;AACA,qBAAKwI,cAAL;AACA,qBAAKd,wBAAL,GAAgC,CAAhC;;AAEA,qBAAKxH,YAAL,GAAoB,KAApB;AACA,qBAAKE,iBAAL,GAAyB,IAAzB;AACA,qBAAKY,YAAL;AACA,qBAAKI,cAAL;AACA,qBAAKD,oBAAL,GAA4B,CAA5B;;AAEA,qBAAKsH,YAAL;AACH;;;;;;;;;;;;;;;YC7BQC,yBAAAA,iBACT,0BAAc;AAAA;;AACV,qBAAK7E,WAAL,GAAmB,KAAnB;AACA,qBAAKD,MAAL,GAAc,CAAd;AACA,qBAAK+E,oBAAL,GAA4B,CAA5B;;AAEA,qBAAKC,cAAL,GAAsB,CAAC,mBAAD,EAAsB,UAAtB,EAAkC,gBAAlC,EAAoD,YAApD,CAAtB;AACA,qBAAK7E,IAAL,GAAY,mBAAZ;;AAEA,qBAAK4C,qBAAL,GAA6B,IAAIkC,GAAJ,EAA7B;AACA,qBAAKhC,gBAAL,GAAwB,IAAIiC,GAAJ,EAAxB;AACA,qBAAKC,gCAAL,GAAwC,CAAxC;;AAEA,qBAAKlN,UAAL,GAAkB,EAAlB;AACA,qBAAKmI,aAAL,GAAqB,EAArB;AACA,qBAAKC,kBAAL,GAA0B,EAA1B;AACA,qBAAKC,eAAL,GAAuB,EAAvB;AACA,qBAAKlC,eAAL,GAAuB,EAAvB;;AAEA,qBAAKe,eAAL,GAAuB,EAAvB;AACH;;;;;;;;;;;;;;;;;;YCjBQiG,2BAAAA,2BADZ,kDAEG,4BAAc;AAAA;;AACV,qBAAK3M,WAAL,GAAmB,KAAnB;;AAEA,qBAAK4I,GAAL,GAAW,EAAX;AACA,qBAAK/I,WAAL,GAAmB,IAAnB;AACA,qBAAKF,MAAL,GAAc,MAAd;;AAEA,qBAAKkC,SAAL;AACA,qBAAK+K,IAAL,GAAY,OAAZ;;AAEA,qBAAKxL,aAAL;AACA,qBAAKC,QAAL,GAAgB,KAAhB;AACA,qBAAKC,SAAL,GAAiB,KAAjB;AACA,qBAAKuL,eAAL,GAAuB,CAAvB;AACA,qBAAKtL,SAAL,GAAiB,KAAjB;AACA,qBAAKuL,uBAAL,GAA+B,CAA/B;AACA,qBAAKtL,UAAL,GAAkB,KAAlB;AACA,qBAAKuL,cAAL,GAAsB,CAAtB;;AAEA,qBAAK5M,KAAL,GAAa,eAAb;AACA,qBAAKW,MAAL,GAAc,eAAd;AACA,qBAAKI,oBAAL;AACA,qBAAK8L,iBAAL;;AAEA,qBAAK3M,kBAAL,GAA0B,EAA1B;AACH;;;;;;;;;;;;;;;;;;YC1BQ4M,sBAAAA,sBADZ,kDAEG,uBAAc;AAAA;;AACV,qBAAK/E,gBAAL,GAAwB,KAAxB;AACA,qBAAKE,WAAL;;AAGA,qBAAKvG,SAAL,GAAiB,CAAjB;AACA,qBAAKqL,OAAL,GAAe,CAAf;AACA,qBAAKpM,MAAL,GAAc,CAAd;;AAGA,qBAAKyD,QAAL,GAAgB,CAAhB;AACA,qBAAKM,MAAL,GAAc,CAAd;AACA,qBAAKsI,UAAL,GAAkB,CAAlB;AACA,qBAAK3J,QAAL,GAAgB,CAAhB;AACA,qBAAKE,MAAL,GAAc,CAAd;AACA,qBAAK0J,UAAL,GAAkB,CAAlB;AACA,qBAAKC,OAAL,GAAe,CAAf;;AAGA,qBAAK9F,MAAL,GAAc,CAAd;;AAGA,qBAAK+F,qBAAL,GAA6B,CAA7B;;AAGA,qBAAK9E,YAAL,GAAoB,EAApB;AACA,qBAAKF,cAAL,GAAsB,EAAtB;AACA,qBAAKiF,gBAAL,GAAwB,EAAxB;;AAEA,qBAAK9E,YAAL,GAAoB,EAApB;AACA,qBAAK+E,cAAL,GAAsB,EAAtB;AACA,qBAAKC,gBAAL,GAAwB,EAAxB;;AAEA,qBAAK/E,aAAL,GAAqB,EAArB;AACA,qBAAKgF,eAAL,GAAuB,EAAvB;AACA,qBAAKC,iBAAL,GAAyB,EAAzB;;AAEA,qBAAKC,mBAAL,GAA2B,CAA3B;AACH;;;;;;;;;;;;;;;QC1CQC,oBAAAA;;;aACTlE,WAAW,IAAI6C,GAAJ;aACXjM,mBAAmB,IAAIkM,GAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCIVqB,4BAAAA,4BADZ;AAEG,mCAAY5O,IAAZ,EAAkBxC,QAAlB,EAA4BD,UAA5B,EAAwC;AAAA;;AACpC,iBAAKyC,IAAL,GAAYA,IAAZ;AACA,iBAAKxC,QAAL,GAAgBA,QAAhB;AACA,iBAAKD,UAAL,GAAkBA,UAAlB;AACH;;oCAGDyG,qCAAatD,QAAQ;AACjB,gBAAImO,eAAenO,OAAOqM,MAAP,GAAgB,IAAnC;AACA,gBAAI+B,eAAepO,OAAOmD,cAAP,GAAwB,KAA3C;AACA,gBAAIkL,sBAAsBD,eAAeA,YAAzC;AACApO,mBAAO2D,GAAP,GAAa,CAACwK,eAAeE,mBAAhB,EAAqCC,WAArC,CAAiD,CAAjD,CAAb;AACH;;oCAGD5J,+CAAkB1E,QAAQ;AACtB,gBAAI4E,yBAAyB,CAA7B;;AAEA,gBAAG5E,OAAOyE,eAAV,EAA2B;AACvB,oBAAId,MAAM3D,OAAO2D,GAAjB;;AAEA,oBAAG3D,OAAOyE,eAAP,CAAuBpD,OAAvB,CAA+B,GAA/B,MAAwC,CAAC,CAA5C,EAA+C;AAC3CuD,6CAAyB,CAAzB;AACA,wBAAGjB,OAAO,IAAP,IAAeA,MAAM,EAAxB,EAA4BiB,0BAA0B,GAA1B,CAA5B,KACK,IAAGjB,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BiB,0BAA0B,GAA1B,CAA1B,KACA,IAAGjB,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BiB,0BAA0B,GAA1B,CAA1B,KACA,IAAGjB,OAAO,EAAV,EAAciB,0BAA0B,GAA1B;AACtB,iBAND,MAOK,IAAG5E,OAAOyE,eAAP,CAAuBpD,OAAvB,CAA+B,MAA/B,MAA2C,CAAC,CAA/C,EAAkD;AACnDuD,6CAAyB,GAAzB;AACA,wBAAGjB,OAAO,IAAP,IAAeA,OAAO,IAAzB,EAA+BiB,0BAA0B,GAA1B,CAA/B,KACK,IAAGjB,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BiB,0BAA0B,GAA1B,CAA1B,KACA,IAAGjB,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BiB,0BAA0B,GAA1B,CAA1B,KACA,IAAGjB,OAAO,EAAV,EAAciB,0BAA0B,GAA1B;AACtB,iBANI,MAOA,IAAG5E,OAAOyE,eAAP,CAAuBpD,OAAvB,CAA+B,eAA/B,MAAoD,CAAC,CAAxD,EAA2D;AAC5DuD,6CAAyB,GAAzB;AACA,wBAAGjB,OAAO,IAAP,IAAeA,OAAO,IAAzB,EAA+BiB,0BAA0B,CAA1B,CAA/B,KACK,IAAGjB,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BiB,0BAA0B,CAA1B,CAA1B,KACA,IAAGjB,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BiB,0BAA0B,GAA1B,CAA1B,KACA,IAAGjB,OAAO,EAAV,EAAciB,0BAA0B,GAA1B;AACtB,iBANI,MAOA,IAAG5E,OAAOyE,eAAP,CAAuBpD,OAAvB,CAA+B,MAA/B,MAA2C,CAAC,CAA/C,EAAkD;AACnDuD,6CAAyB,GAAzB;AACA,wBAAGjB,OAAO,IAAP,IAAeA,OAAO,IAAzB,EAA+BiB,0BAA0B,CAA1B,CAA/B,KACK,IAAGjB,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BiB,0BAA0B,CAA1B,CAA1B,KACA,IAAGjB,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BiB,0BAA0B,GAA1B,CAA1B,KACA,IAAGjB,OAAO,EAAV,EAAciB,0BAA0B,GAA1B;AACtB;AACJ;AACD5E,mBAAO4E,sBAAP,GAAgCA,sBAAhC;AACH;;oCAEDS,mDAAoBrF,QAAQuO,eAAe;AACvC,gBAAGvO,OAAOsM,UAAP,IAAqB,qBAAxB,EAA+CiC,cAAchB,UAAd,GAA2B,GAA3B,CAA/C,KACK,IAAGvN,OAAOsM,UAAP,IAAqB,oBAAxB,EAA8CiC,cAAchB,UAAd,GAA2B,CAAC,GAA5B,CAA9C,KACAgB,cAAcjC,UAAd,GAA2B,CAA3B;AACR;;oCAGDtH,2CAAgBhF,QAAQ;AACpB,gBAAIkF,uBAAuB,CAA3B;AACA,gBAAIhB,eAAelE,OAAOmE,iBAA1B;AACA,gBAAIY,eAAe/E,OAAO+E,YAA1B;;AAGA,gBAAGA,aAAa1D,OAAb,CAAqB,OAArB,MAAkC,CAAC,CAAtC,EAAyC;AACrC6D,uCAAuB,CAAC,GAAxB;;AAGA,oBAAG,CAAChB,YAAJ,EAAkB;AACd,wBAAI8E,MAAMhJ,OAAOmF,cAAjB;AACA,wBAAG6D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,GAAxB,CAA7B,KACK,IAAG8D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,GAAxB,CAA7B,KACA,IAAG8D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,GAAxB,CAA7B,KACA,IAAG8D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,CAAxB;AACrC;AACJ,aAXD,MAYK,IAAGH,aAAa1D,OAAb,CAAqB,SAArB,MAAoC,CAAC,CAAxC,EAA2C;AAC5C6D,wCAAwB,GAAxB;;AAGA,oBAAG,CAAChB,YAAJ,EAAkB;AACd,wBAAI8E,MAAMhJ,OAAOmF,cAAjB;AACA,wBAAG6D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,GAAxB,CAA7B,KACK,IAAG8D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,GAAxB,CAA7B,KACA,IAAG8D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,CAAxB,CAA7B,KACA,IAAG8D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,CAAxB;AACrC;AACJ,aAXI,MAYA,IAAGH,aAAa1D,OAAb,CAAqB,OAArB,MAAkC,CAAC,CAAtC,EAAyC;AAC1C6D,wCAAwB,GAAxB;;AAGA,oBAAG,CAAChB,YAAJ,EAAkB;AACd,wBAAI8E,MAAMhJ,OAAOmF,cAAjB;AACA,wBAAG6D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,GAAxB,CAA7B,KACK,IAAG8D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,GAAxB,CAA7B,KACA,IAAG8D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,CAAxB,CAA7B,KACA,IAAG8D,IAAI3H,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA1B,EAA6B6D,wBAAwB,CAAxB;AACrC;AACJ;AACDlF,mBAAOkF,oBAAP,GAA8BA,oBAA9B;AACH;;oCAGDI,uDAAsBtF,QAAQuO,eAAe;AACzC,gBAAGvO,OAAO+D,WAAV,EAAuB;AACnBwK,8BAAczK,MAAd,GAAuB,CAAC,CAAxB;AACH,aAFD,MAGK;AACDyK,8BAAczK,MAAd,GAAuB,CAAvB;AACH;AACJ;;oCAEDyB,uDAAsBvF,QAAQuO,eAAexO,QAAQ;AACjD,gBAAIyN,aAAa,CAAjB;AACA,gBAAGxN,OAAOwM,YAAP,IAAuB,0BAAvB,IAAqDxM,OAAOwM,YAAP,IAAuB,6CAA/E,EAA8H;AAC1H,oBAAGzM,UAAU,MAAV,IAAoBA,UAAU,MAAjC,EAAyCyN,cAAc,GAAd,CAAzC,KACK,IAAGzN,UAAU,QAAb,EAAuByN,cAAc,GAAd;AAC/B,aAHD,MAIK,IAAGxN,OAAOwM,YAAP,IAAuB,2BAA1B,EAAuD;AACxD,oBAAGzM,UAAU,MAAV,IAAoBA,UAAU,MAAjC,EAAyCyN,cAAc,GAAd,CAAzC,KACK,IAAGzN,UAAU,QAAb,EAAuByN,cAAc,GAAd;AAC/B;;AAEDe,0BAAcf,UAAd,GAA2BA,UAA3B;AACH;;oCAGKhI;kFAA4BgJ,cAAcC,YAAYF;;;;;;AACpDG,2CAAWD,WAAWzB,IAAX,CAAgB7N,WAAhB,KAAgC,GAAhC,GAAsCsP,WAAW1O,MAAjD,GAA0D;AACrE0N,0CAAUe,aAAajC;8CAGpB;iEACEkB,YAAY,oCAGZA,YAAY,sCAGZA,YAAY;;;;AALbkB,oDAAoB,oBAApB;;;;AAGAA,oDAAoB,oBAApB;;;;AAGAA,oDAAoB,wBAApB;;;;AAGAA,oDAAoB,MAApB;;;;;uCAGa,KAAK9R,UAAL,CAAgBI,KAAhB,CAAsB,wBAAwByR,QAA9C;;;AAAjB7E;;uCACaA,SAAS1M,IAAT;;;AAAbA;;AACJ,qCAAKL,QAAL,CAAcsO,qBAAd,CAAoCoD,YAApC,EAAkDrR,IAAlD,EAAwDwR,iBAAxD;;AAEAJ,8CAAcd,OAAd,GAAwBe,aAAa/C,wBAArC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCzJKmD,8BAAAA,8BADZ;AAEG,qCAAYtP,IAAZ,EAAkBzC,UAAlB,EAA8BC,QAA9B,EAAwC6C,cAAxC,EAAwD;AAAA;;AACpD,iBAAKL,IAAL,GAAYA,IAAZ;AACA,iBAAKzC,UAAL,GAAkBA,UAAlB;AACA,iBAAKC,QAAL,GAAgBA,QAAhB;AACA,iBAAK6C,cAAL,GAAsBA,cAAtB;AACH;;sCAGDyI,2CAAgBpI,QAAQD,QAAQyE,SAAS;AACrC,gBAAIkI,uBAAuB,CAA3B;;AAEA,gBAAG1M,OAAO4H,WAAV,EAAuB;AACnB,oBAAG8D,WAAW1L,OAAO2H,MAAlB,KAA6B,MAAhC,EAAwC;AACpC,wBAAG5H,UAAU,MAAV,IAAoBA,UAAU,MAAjC,EAAyC2M,wBAAwB,IAAxB,CAAzC,KACK,IAAG3M,UAAU,QAAb,EAAuB2M,wBAAwB,IAAxB;AAC/B,iBAHD,MAIK;AACD,wBAAG3M,UAAU,MAAV,IAAoBA,UAAU,MAAjC,EAAyC2M,wBAAwB,IAAxB,CAAzC,KACK,IAAG3M,UAAU,QAAb,EAAuB2M,wBAAwB,IAAxB;AAC/B;AACJ;;AAED1M,mBAAO0M,oBAAP,GAA8BA,oBAA9B;AACAlI,oBAAQmD,MAAR,GAAiB+E,oBAAjB;AACH;;sCAGK5M;;;;;;;;uCACe,KAAKjD,UAAL,CAAgBI,KAAhB,CAAsB,uCAAtB;;;AAAbC;;uCACmBA,KAAKC,IAAL;;;AAAnB0R;;AACJ,qCAAK/R,QAAL,CAAc0N,eAAd,CAA8BqE,UAA9B;AACA,qCAAKC,eAAL,CAAqB,cAArB;AACA,qCAAKA,eAAL,CAAqB,UAArB;AACA,qCAAKA,eAAL,CAAqB,gBAArB;AACA,qCAAKA,eAAL,CAAqB,YAArB;;;;;;;;;;;;;;;;;sCAIE5G;oFAAsBlI;;;;;;;uCACP,KAAKnD,UAAL,CAAgBI,KAAhB,CAAsB,uCAAtB;;;AAAbC;;uCACmBA,KAAKC,IAAL;;;AAAnB0R;;AACJ7O,uCAAO8M,gCAAP,GAA0C,KAAKhQ,QAAL,CAAciO,wBAAd,CAAuC8D,UAAvC,EAAmD7O,OAAO8G,eAA1D,CAA1C;;;;;;;;;;;;;;;;;sCAIJgI,2CAAgBhH,MAAM;AAClB,gBAAIiH,eAAe,EAAnB;AACA,gBAAIC,cAAc,KAAKrP,cAAL,CAAoBiL,gBAApB,CAAqChK,GAArC,CAAyCkH,IAAzC,EAA+CjH,KAA/C,CAAqD,GAArD,CAAlB;AACAmO,wBAAYlO,OAAZ,CAAoB,UAAUmO,GAAV,EAAe;AAC/BF,6BAAa/N,IAAb,CAAkBiO,GAAlB;AACH,aAFD;;AAIAF,yBAAa9N,GAAb;AACA,oBAAO,IAAP;AACI,qBAAK6G,SAAS,cAAd;AACI,yBAAKnI,cAAL,CAAoBC,UAApB,GAAiCmP,YAAjC;AACA;AACJ,qBAAKjH,SAAS,UAAd;AACI,yBAAKnI,cAAL,CAAoBoI,aAApB,GAAoCgH,YAApC;AACA;AACJ,qBAAKjH,SAAS,gBAAd;AACI,yBAAKnI,cAAL,CAAoBqI,kBAApB,GAAyC+G,YAAzC;AACA;AACJ,qBAAKjH,SAAS,YAAd;AACI,yBAAKnI,cAAL,CAAoBsI,eAApB,GAAsC8G,YAAtC;AACA;AAZR;AAcH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCtEQG,2BAAAA,2BADZ;AAIG,kCAAYrS,UAAZ,EAAwByC,IAAxB,EAA8B;AAAA;;AAC1B,iBAAKzC,UAAL,GAAkBA,UAAlB;AACA,iBAAKyC,IAAL,GAAYA,IAAZ;AACH;;mCAGKiD;kFAAiB4M,QAAQhN,eAAeuB,QAAQpB;;;;;;;uCACZ,KAAKzF,UAAL,CAAgBI,KAAhB,CAAsB,qBAAqBkS,OAAOnC,IAAP,CAAY7N,WAAZ,EAArB,GAAiD,GAAjD,GAAuDgQ,OAAOpP,MAAP,CAAcZ,WAAd,EAAvD,GAAqF,OAA3G;;;AAAlCiQ;;uCAC0BA,0BAA0BjS,IAA1B;;;AAA1BkS;;AACJ,qCAAKC,kBAAL,CAAwBD,iBAAxB,EAA2CF,MAA3C;;qCACG,KAAK7P,IAAL,CAAU8F,cAAV,CAAyBvB;;;;;;uCAAqB,KAAK0L,iBAAL,CAAuBF,iBAAvB,EAA0CF,MAA1C,EAAkDhN,aAAlD;;;qCAG9CgN,OAAO/O;;;;;;uCACgC,KAAKvD,UAAL,CAAgBI,KAAhB,CAAsB,qBAAqByG,OAAOsJ,IAAP,CAAY7N,WAAZ,EAArB,GAAiD,GAAjD,GAAuDuE,OAAO3D,MAAP,CAAcZ,WAAd,EAAvD,GAAqF,OAA3G;;;AAAlCqQ;;uCACsBA,0BAA0BrS,IAA1B;;;AAA1BsS;;AACA,qCAAKH,kBAAL,CAAwBG,iBAAxB,EAA2C/L,MAA3C;;qCACG,KAAKpE,IAAL,CAAUmG,cAAV,CAAyB5B;;;;;;uCAAqB,KAAK0L,iBAAL,CAAuBE,iBAAvB,EAA0C/L,MAA1C,EAAkDpB,aAAlD;;;;AAIrD,qCAAKoN,aAAL,CAAmBL,iBAAnB,EAAsCF,MAAtC,EAA8ChN,aAA9C,EACIsN,iBADJ,EACuB/L,MADvB,EAC+BpB,aAD/B;;;;;;;;;;;;;;;;;mCAKJgN,iDAAmBpS,MAAM8C,QAAQ;AAC7B9C,iBAAK4D,OAAL,CAAa,UAASjC,KAAT,EAAgB;AAEzB,oBAAI8Q,kBAAkB,EAAtB;AACAA,gCAAgB,CAAhB,IAAqBvM,SAASvE,MAAM+Q,GAAN,CAAUC,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,CAAT,CAArB;AACAF,gCAAgB,CAAhB,IAAqBvM,SAASvE,MAAM+Q,GAAN,CAAUC,KAAV,CAAgB,CAAhB,EAAmB,CAAnB,CAAT,CAArB;AACA,oBAAG,CAACF,gBAAgB,CAAhB,MAAuB3P,OAAOgJ,GAA9B,IAAqC2G,gBAAgB,CAAhB,MAAuB3P,OAAOgJ,GAApE,KAA4EhJ,OAAOgJ,GAAP,IAAc2G,gBAAgB,CAAhB,CAA7F,EAAiH;AAC7G3P,2BAAOoN,iBAAP,GAA2BhK,SAASvE,MAAMiR,MAAf,CAA3B;AACH;AACJ,aARD;AASH;;mCAGDP,+CAAkBQ,mBAAmB/P,QAAQuO,eAAe;AACxD,gBAAI/N,OAAO,IAAX;AACA,gBAAIwI,GAAJ;AACA,gBAAIgH,UAAU,IAAd;;AAEAD,8BAAkBjP,OAAlB,CAA0B,UAASjC,KAAT,EAAgB0I,CAAhB,EAAmB;AACzC,oBAAGA,IAAI,CAAP,EAAW;AACP,wBAAI0I,eAAe7M,SAAS2M,kBAAkB/P,OAAOgJ,GAAzB,EAA8B8G,MAAvC,CAAnB;AACA,wBAAII,OAAOxE,WAAWqE,kBAAkBxI,CAAlB,EAAqBuI,MAAhC,CAAX;AACA,wBAAIK,OAAOzE,WAAWqE,kBAAkBxI,IAAE,CAApB,EAAuBuI,MAAlC,CAAX;;AAEA,wBAAGE,OAAH,EAAY;AACR,4BAAGxP,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxD,gCAAIE,SAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAb;AACAnH,kCAAM5F,SAAS2M,kBAAkBxI,IAAE,CAApB,EAAuBqI,GAAhC,IAAuCS,MAA7C;AACAL,sCAAU,KAAV;AACH;AACJ;AACJ;AACJ,aAdD;;AAgBAzB,0BAAc3K,QAAd,GAAyB,CAAzB;;AAEA,gBAAGoF,MAAM,EAAT,EAAauF,cAAc3K,QAAd,GAAyB,GAAzB,CAAb,KACK,IAAGoF,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BuF,cAAc3K,QAAd,GAAyB,GAAzB,CAA1B,KACA,IAAGoF,OAAO,EAAP,IAAaA,MAAM,EAAtB,EAA0BuF,cAAc3K,QAAd,GAAyB,GAAzB,CAA1B,KACA,IAAGoF,OAAO,EAAP,IAAaA,MAAM,GAAtB,EAA2BuF,cAAc3K,QAAd,GAAyB,GAAzB,CAA3B,KACA,IAAGoF,OAAO,GAAV,EAAeuF,cAAc3K,QAAd,GAAyB,CAAzB;;AAEpB2K,0BAAcb,qBAAd,IAAuCa,cAAc3K,QAArD;AACH;;mCAGD1B,iDAAmBlC,QAAQwE,SAAS;AAChC,gBAAI8L,0BAA0B,CAA9B;AACA,gBAAIrO,YAAYjC,OAAOiC,SAAvB;AACA,gBAAGA,UAAUZ,OAAV,CAAkB,QAAlB,MAAgC,CAAC,CAApC,EAAuC;AACnC,oBAAGrB,OAAOD,MAAP,IAAiB,MAAjB,IAA2BC,OAAOD,MAAP,IAAiB,MAA/C,EAAuDuQ,2BAA2B,CAA3B,CAAvD,KACK,IAAGtQ,OAAOD,MAAP,IAAiB,QAApB,EAA8BuQ,2BAA2B,GAA3B;AACtC;AACD,gBAAGrO,UAAUZ,OAAV,CAAkB,cAAlB,MAAsC,CAAC,CAA1C,EAA6C;AACzC,oBAAGrB,OAAOD,MAAP,IAAiB,MAAjB,IAA2BC,OAAOD,MAAP,IAAiB,MAA/C,EAAuDuQ,2BAA2B,GAA3B,CAAvD,KACK,IAAGtQ,OAAOD,MAAP,IAAiB,QAApB,EAA8BuQ,2BAA2B,IAA3B;AACtC;AACD,gBAAGrO,UAAUZ,OAAV,CAAkB,SAAlB,MAAiC,CAAC,CAArC,EAAwC;AACpC,oBAAGrB,OAAOD,MAAP,IAAiB,MAAjB,IAA2BC,OAAOD,MAAP,IAAiB,MAA/C,EAAuDuQ,2BAA2B,CAA3B,CAAvD,KACK,IAAGtQ,OAAOD,MAAP,IAAiB,QAApB,EAA8BuQ,2BAA2B,GAA3B;AACtC;;AAED9L,oBAAQvC,SAAR,GAAoBqO,uBAApB;AACH;;mCAGDlO,2CAAgBmM,eAAe;AAC3BA,0BAAcb,qBAAd,GAAsC,CAAtC;;AAEAa,0BAAcb,qBAAd,IAAuCa,cAActM,SAArD;AACAsM,0BAAcb,qBAAd,IAAuCa,cAAcjB,OAArD;;AAGAiB,0BAAcb,qBAAd,IAAuCa,cAAc5J,QAArD;AACA4J,0BAAcb,qBAAd,IAAuCa,cAActJ,MAArD;AACAsJ,0BAAcb,qBAAd,IAAuCa,cAAchB,UAArD;AACAgB,0BAAcb,qBAAd,IAAuCa,cAAc3K,QAArD;AACA2K,0BAAcb,qBAAd,IAAuCa,cAAczK,MAArD;AACAyK,0BAAcb,qBAAd,IAAuCa,cAAcf,UAArD;AACAe,0BAAcb,qBAAd,IAAuCa,cAAcd,OAArD;;AAIAc,0BAAcb,qBAAd,IAAuCa,cAAc5G,MAArD;AACH;;mCAEDyI,iCAAWH,cAAcM,cAAcC,WAAWC,YAAY;AAC1D,gBAAGF,eAAeN,eAAeQ,UAAjC,EAA6C;AACzC,oBAAIC,aAAaF,YAAYD,YAA7B;AACA,oBAAIF,SAAS,CAACG,YAAYP,eAAeQ,UAA5B,IAA0CC,UAAvD;AACA,uBAAOL,MAAP;AACH,aAJD,MAKK,OAAO,KAAP;AACR;;mCAGDX,uCAAcL,mBAAmBF,QAAQhN,eACjCsN,mBAAmB/L,QAAQpB,eAAe;AAC9C,gBAAIsG,eAAe,EAAnB;AACA,gBAAIF,iBAAiB,EAArB;AACA,gBAAIiF,mBAAmB,EAAvB;AACA,gBAAInN,OAAO,IAAX;AACA,gBAAIwI,GAAJ,EAASmH,IAAT,EAAeD,IAAf,EAAqBQ,UAArB,EAAiCL,MAAjC,EAAyCM,OAAzC,EAAkDC,OAAlD,EAA2DZ,OAA3D,EAAoEa,OAApE,EAA6EC,OAA7E;AACA,gBAAItQ,OAAO,IAAX;;AAEA,gBAAIsI,gBAAgB,EAApB;AACA,gBAAIgF,kBAAkB,EAAtB;AACA,gBAAIC,oBAAoB,EAAxB;;AAEA4C,sBAAU,IAAV;AACAC,sBAAU,IAAV;AACAZ,sBAAU,IAAV;AACAa,sBAAU,IAAV;AACAC,sBAAU,IAAV;;AAGAzB,8BAAkBvO,OAAlB,CAA0B,UAASjC,KAAT,EAAgB0I,CAAhB,EAAmB;AACzC,oBAAGnE,SAASvE,MAAM+Q,GAAf,KAAuBT,OAAOnG,GAAjC,EAAsC;AAClC,wBAAIiH,eAAe7M,SAASiM,kBAAkBF,OAAOnG,GAAzB,EAA8B8G,MAAvC,CAAnB;;AAGA,wBAAGvI,IAAI,CAAP,EAAU;AACNyB,8BAAMqG,kBAAkB9H,IAAE,CAApB,EAAuBqI,GAA7B;AACAM,+BAAOxE,WAAW2D,kBAAkB9H,CAAlB,EAAqBuI,MAAhC,CAAP;AACAK,+BAAOzE,WAAW2D,kBAAkB9H,IAAE,CAApB,EAAuBuI,MAAlC,CAAP;;AAEA,4BAAGa,OAAH,EAAY;AACR,gCAAGnQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACArC,gDAAgB9M,IAAhB,CAAqB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAArB;AACAhD,kDAAkB/M,IAAlB,CAAuB,KAAvB;AACA2P,0CAAU,KAAV;AACH;AACJ;AACD,4BAAGC,OAAH,EAAY;AACR,gCAAGpQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACArC,gDAAgB9M,IAAhB,CAAqB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAArB;AACAhD,kDAAkB/M,IAAlB,CAAuB,KAAvB;AACA4P,0CAAU,KAAV;AACH;AACJ;AACD,4BAAGZ,OAAH,EAAY;AACR,gCAAGxP,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACArC,gDAAgB9M,IAAhB,CAAqB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAArB;AACAhD,kDAAkB/M,IAAlB,CAAuB,KAAvB;AACAgP,0CAAU,KAAV;AACH;AACJ;AACD,4BAAGa,OAAH,EAAY;AACR,gCAAGrQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACArC,gDAAgB9M,IAAhB,CAAqB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAArB;AACAhD,kDAAkB/M,IAAlB,CAAuB,KAAvB;AACA6P,0CAAU,KAAV;AACH;AACJ;AACD,4BAAGC,OAAH,EAAY;AACR,gCAAGtQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACArC,gDAAgB9M,IAAhB,CAAqB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAArB;AACAhD,kDAAkB/M,IAAlB,CAAuB,KAAvB;AACA8P,0CAAU,KAAV;AACH;AACJ;AACJ;;AAEDhI,kCAAc9H,IAAd,CAAmB,CAACoC,SAASvE,MAAM+Q,GAAf,CAAD,EAAsBxM,SAASvE,MAAMiR,MAAf,CAAtB,CAAnB;AACH;AACJ,aAtDD;;AAyDA,gBAAIkB,sBAAsB,EAA1B;AACA,gBAAIC,wBAAwB,EAA5B;AACA,gBAAIC,0BAA0B,EAA9B;;AAEAP,sBAAU,IAAV;AACAC,sBAAU,IAAV;AACAZ,sBAAU,IAAV;AACAa,sBAAU,IAAV;AACAC,sBAAU,IAAV;;AAGA,gBAAG3B,OAAO/O,WAAV,EAAuB;AACnBqP,kCAAkB3O,OAAlB,CAA0B,UAASjC,KAAT,EAAgB0I,CAAhB,EAAmB;AACzC,wBAAGnE,SAASvE,MAAM+Q,GAAf,KAAuBT,OAAOnG,GAAjC,EAAsC;AAClC,4BAAIiH,eAAe7M,SAASqM,kBAAkB/L,OAAOsF,GAAzB,EAA8B8G,MAAvC,CAAnB;;AAGA,4BAAGvI,IAAI,CAAP,EAAU;AACNyB,kCAAMyG,kBAAkBlI,IAAE,CAApB,EAAuBqI,GAA7B;AACAM,mCAAOxE,WAAW+D,kBAAkBlI,CAAlB,EAAqBuI,MAAhC,CAAP;AACAK,mCAAOzE,WAAW+D,kBAAkBlI,IAAE,CAApB,EAAuBuI,MAAlC,CAAP;;AAEA,gCAAGa,OAAH,EAAY;AACR,oCAAGnQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAc,0DAAsBjQ,IAAtB,CAA2B,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAA3B;AACAG,4DAAwBlQ,IAAxB,CAA6B,KAA7B;AACA2P,8CAAU,KAAV;AACH;AACJ;AACD,gCAAGC,OAAH,EAAY;AACR,oCAAGpQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAc,0DAAsBjQ,IAAtB,CAA2B,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAA3B;AACAG,4DAAwBlQ,IAAxB,CAA6B,KAA7B;AACA4P,8CAAU,KAAV;AACH;AACJ;AACD,gCAAGZ,OAAH,EAAY;AACR,oCAAGxP,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAc,0DAAsBjQ,IAAtB,CAA2B,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAA3B;AACAG,4DAAwBlQ,IAAxB,CAA6B,KAA7B;AACAgP,8CAAU,KAAV;AACH;AACJ;AACD,gCAAGa,OAAH,EAAY;AACR,oCAAGrQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAc,0DAAsBjQ,IAAtB,CAA2B,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAA3B;AACAG,4DAAwBlQ,IAAxB,CAA6B,KAA7B;AACA6P,8CAAU,KAAV;AACH;AACJ;AACD,gCAAGC,OAAH,EAAY;AACR,oCAAGtQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAc,0DAAsBjQ,IAAtB,CAA2B,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAjB,EAAyBU,OAAzB,CAAiC,CAAjC,CAA3B;AACAG,4DAAwBlQ,IAAxB,CAA6B,KAA7B;AACA8P,8CAAU,KAAV;AACH;AACJ;AACJ;;AAEDE,4CAAoBhQ,IAApB,CAAyB,CAACoC,SAASvE,MAAM+Q,GAAf,CAAD,EAAsBxM,SAASvE,MAAMiR,MAAf,CAAtB,CAAzB;AACH;AACJ,iBAtDD;AAuDH;;AAGDa,sBAAU,IAAV;AACAC,sBAAU,IAAV;AACAZ,sBAAU,IAAV;AACAa,sBAAU,IAAV;AACAC,sBAAU,IAAV;;AAGAzB,8BAAkBvO,OAAlB,CAA0B,UAASjC,KAAT,EAAgB0I,CAAhB,EAAmB;AACzC,oBAAGnE,SAASvE,MAAM+Q,GAAf,KAAuBT,OAAOnG,GAAjC,EAAsC;AAClC,wBAAIiH,eAAe7M,SAASiM,kBAAkBF,OAAOnG,GAAzB,EAA8B8G,MAAvC,CAAnB;;AAEA,wBAAG3N,cAAcmG,gBAAd,IAAmClF,SAASvE,MAAM+Q,GAAf,MAAwBT,OAAOnG,GAAP,IAAc7G,cAAcqG,WAAd,GAA4B9E,OAAOsF,GAAjD,CAA9D,EAAsH;AACjH0H,qCAAatN,SAASiM,kBAAkB9H,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASiM,kBAAkB9H,CAAlB,EAAqBuI,MAA9B,CAAvD;AACAjR,8BAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACJ,qBAHD,MAGO,IAAGvO,cAAcmG,gBAAd,KAAmC6G,OAAOpP,MAAP,KAAkB,MAAlB,IAA4BoP,OAAOpP,MAAP,KAAiB,MAAhF,KACKqD,SAASvE,MAAM+Q,GAAf,MAAwBT,OAAOnG,GAAP,IAAc7G,cAAcqG,WAAd,GAA4B9E,OAAOsF,GAAjD,IAAwD,CADxF,EAC2F;AAC7F0H,qCAAatN,SAASiM,kBAAkB9H,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASiM,kBAAkB9H,CAAlB,EAAqBuI,MAA9B,CAAvD;AACAjR,8BAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACJ;;AAGD,wBAAGtN,SAASvE,MAAM+Q,GAAf,KAAuB,EAA1B,EAA8B/Q,MAAMiR,MAAN,GAAe1M,SAASvE,MAAMiR,MAAf,IAAyBtP,KAAKlB,IAAL,CAAUuG,gBAAV,CAA2BiH,gCAAnE;;AAG9B,wBAAGqC,OAAOpP,MAAP,IAAiB,MAAjB,IAA2BoP,OAAOpP,MAAP,IAAiB,MAA/C,EAAuD;AACnD,4BAAGqD,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvB,IAA6BxM,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvD,EAA2D;AACvDc,yCAAatN,SAASiM,kBAAkB9H,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASiM,kBAAkB9H,CAAlB,EAAqBuI,MAA9B,CAAvD;AACA,gCAAGX,OAAO3N,aAAP,IAAwB,sBAA3B,EAAmD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAnD,KACK,IAAGvB,OAAO3N,aAAP,IAAwB,qBAA3B,EAAkD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAlD,KACA,IAAGvB,OAAO3N,aAAP,IAAwB,SAA3B,EAAsC3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAtC,KACA,IAAGvB,OAAO3N,aAAP,IAAwB,UAA3B,EAAuC3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AAC/C;AACJ,qBARD,MASK,IAAGvB,OAAOpP,MAAP,IAAiB,QAApB,EAA8B;AAC/B,4BAAGqD,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvB,IAA6BxM,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvD,EAA2D;AACvDc,yCAAatN,SAASiM,kBAAkB9H,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASiM,kBAAkB9H,CAAlB,EAAqBuI,MAA9B,CAAvD;AACA,gCAAGX,OAAO3N,aAAP,IAAwB,sBAA3B,EAAmD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAnD,KACK,IAAGvB,OAAO3N,aAAP,IAAwB,qBAA3B,EAAkD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAlD,KACA,IAAGvB,OAAO3N,aAAP,IAAwB,SAA3B,EAAsC3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAtC,KACA,IAAGvB,OAAO3N,aAAP,IAAwB,UAA3B,EAAuC3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AAC/C;AACJ;;AAGD,wBAAGnJ,IAAI,CAAP,EAAU;AACNyB,8BAAMqG,kBAAkB9H,IAAE,CAApB,EAAuBqI,GAA7B;AACAM,+BAAOxE,WAAW2D,kBAAkB9H,CAAlB,EAAqBuI,MAAhC,CAAP;AACAK,+BAAOzE,WAAW2D,kBAAkB9H,IAAE,CAApB,EAAuBuI,MAAlC,CAAP;;AAEA,4BAAGa,OAAH,EAAY;AACR,gCAAGnQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAzH,+CAAe1H,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWvJ,cAAcuL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACApD,iDAAiB3M,IAAjB,CAAsB,KAAtB;AACA2P,0CAAU,KAAV;AACH;AACJ;AACD,4BAAGC,OAAH,EAAY;AACR,gCAAGpQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAzH,+CAAe1H,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWvJ,cAAcuL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACApD,iDAAiB3M,IAAjB,CAAsB,KAAtB;AACA4P,0CAAU,KAAV;AACH;AACJ;AACD,4BAAGZ,OAAH,EAAY;AACR,gCAAGxP,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAzH,+CAAe1H,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWvJ,cAAcuL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACApD,iDAAiB3M,IAAjB,CAAsB,KAAtB;;AAEAmB,8CAAc6L,mBAAd,GAAoC,CAAC5K,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWvJ,cAAcuL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApC;AACAf,0CAAU,KAAV;AACH;AACJ;AACD,4BAAGa,OAAH,EAAY;AACR,gCAAGrQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAzH,+CAAe1H,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWvJ,cAAcuL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACApD,iDAAiB3M,IAAjB,CAAsB,KAAtB;AACA6P,0CAAU,KAAV;AACH;AACJ;AACD,4BAAGC,OAAH,EAAY;AACR,gCAAGtQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,yCAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAzH,+CAAe1H,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWvJ,cAAcuL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACApD,iDAAiB3M,IAAjB,CAAsB,KAAtB;AACA8P,0CAAU,KAAV;AACH;AACJ;AACJ;;AAED,wBAAG1N,SAASvE,MAAM+Q,GAAf,IAAsBzN,cAAcuL,qBAApC,GAA4DyB,OAAOnG,GAAtE,EAA2E;AACvEJ,qCAAa5H,IAAb,CAAkB,CAACoC,SAASvE,MAAM+Q,GAAf,CAAD,EAAsBxM,SAASvE,MAAMiR,MAAf,CAAtB,CAAlB;AACH,qBAFD,MAGKlH,aAAa5H,IAAb,CAAkB,CAACoC,SAASvE,MAAM+Q,GAAf,IAAsBuB,KAAKC,KAAL,CAAWjP,cAAcuL,qBAAzB,CAAvB,EAAwEtK,SAASvE,MAAMiR,MAAf,CAAxE,CAAlB;AAER,iBA1FD,MA2FK,IAAG1M,SAASvE,MAAM+Q,GAAf,IAAsBT,OAAOnG,GAAhC,EAAqC;AACtC,4BAAGmG,OAAOpP,MAAP,IAAiB,MAAjB,IAA2BoP,OAAOpP,MAAP,IAAiB,MAA/C,EAAuD;AACnD,gCAAGqD,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvB,IAA6BxM,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvD,EAA2D;AACvDc,6CAAatN,SAASiM,kBAAkB9H,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASiM,kBAAkB9H,CAAlB,EAAqBuI,MAA9B,CAAvD;AACA,oCAAIuB,gBAAgBjO,SAASvE,MAAM+Q,GAAf,IAAsBT,OAAOlC,eAAjD;;AAEA,oCAAGkC,OAAO3N,aAAP,IAAwB,sBAA3B,EAAmD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAnD,KAEK,IAAGvB,OAAO3N,aAAP,IAAwB,qBAA3B,EAAkD;AACnD,4CAAG6P,gBAAgBjO,SAASvE,MAAM+Q,GAAf,CAAnB,EAAwC/Q,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAxC,KACK7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR,qCAHI,MAKA,IAAGvB,OAAO3N,aAAP,IAAwB,SAA3B,EAAsC;AACvC6P,yDAAiBlC,OAAOjC,uBAAxB;AACA,4CAAIoE,eAAelO,SAASvE,MAAM+Q,GAAf,IAAsBT,OAAOjC,uBAAhD;;AAEA,4CAAGmE,gBAAgB,EAAhB,GAAqB,CAAxB,EAA2BxS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAA3B,KACK,IAAGW,gBAAgBC,YAAnB,EAAiCzS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAjC,KACA;AACD,wDAAGtN,SAASvE,MAAM+Q,GAAf,KAAuB0B,YAA1B,EAAwC;AACpCzS,8DAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACA7R,8DAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACH,qDAHD,MAIK,IAAGtN,SAASvE,MAAM+Q,GAAf,KAAuB0B,eAAe,CAAzC,EAA4C;AAC7CzS,8DAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACA7R,8DAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACH,qDAHI,MAIA7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR;AACJ,qCAjBI,MAmBA,IAAGvB,OAAO3N,aAAP,IAAwB,UAA3B,EAAuC;AACxC6P,yDAAiBlC,OAAOhC,cAAxB;AACA,4CAAIoE,eAAenO,SAASvE,MAAM+Q,GAAf,IAAsBT,OAAOhC,cAAhD;;AAEA,4CAAGkE,gBAAgB,EAAhB,GAAqB,CAAxB,EAA2BxS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAA3B,KACK,IAAGW,gBAAgBE,YAAnB,EAAiC1S,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAjC,KACA7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR;AACJ;AACJ,yBAxCD,MAyCK,IAAGvB,OAAOpP,MAAP,IAAiB,QAApB,EAA8B;AAC/B,gCAAGqD,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvB,IAA6BxM,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvD,EAA2D;AACvDc,6CAAatN,SAASiM,kBAAkB9H,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASiM,kBAAkB9H,CAAlB,EAAqBuI,MAA9B,CAAvD;AACA,oCAAIuB,gBAAgBjO,SAASvE,MAAM+Q,GAAf,IAAsBT,OAAOlC,eAAjD;;AAEA,oCAAGkC,OAAO3N,aAAP,IAAwB,sBAA3B,EAAmD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAnD,KAEK,IAAGvB,OAAO3N,aAAP,IAAwB,qBAA3B,EAAkD;AACnD,4CAAG6P,gBAAgBjO,SAASvE,MAAM+Q,GAAf,CAAnB,EAAwC/Q,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAxC,KACK7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR,qCAHI,MAKA,IAAGvB,OAAO3N,aAAP,IAAwB,SAA3B,EAAsC;AACvC6P,yDAAiBlC,OAAOjC,uBAAxB;AACA,4CAAIoE,eAAelO,SAASvE,MAAM+Q,GAAf,IAAsBT,OAAOjC,uBAAhD;;AAEA,4CAAGmE,gBAAgB,EAAhB,GAAqB,CAAxB,EAA2BxS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAA3B,KACK,IAAGW,gBAAgBC,YAAnB,EAAiCzS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAjC,KACA;AACD,wDAAGtN,SAASvE,MAAM+Q,GAAf,KAAuB0B,YAA1B,EAAwC;AACpCzS,8DAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACA7R,8DAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACH,qDAHD,MAIK,IAAGtN,SAASvE,MAAM+Q,GAAf,KAAuB0B,eAAe,CAAzC,EAA4C;AAC7CzS,8DAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACA7R,8DAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACH,qDAHI,MAIA7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR;AACJ,qCAjBI,MAmBA,IAAGvB,OAAO3N,aAAP,IAAwB,UAA3B,EAAuC;AACxC6P,yDAAiBlC,OAAOhC,cAAxB;AACA,4CAAIoE,eAAenO,SAASvE,MAAM+Q,GAAf,IAAsBT,OAAOhC,cAAhD;;AAEA,4CAAGkE,gBAAgB,EAAhB,GAAqB,CAAxB,EAA2BxS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAA3B,KACK,IAAGW,gBAAgBE,YAAnB,EAAiC1S,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAjC,KACA7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR;AACJ;AACJ;;AAED,4BAAGtN,SAASvE,MAAM+Q,GAAf,IAAsBzN,cAAcuL,qBAApC,GAA4DyB,OAAOnG,GAAnE,IAA0EzB,KAAK4H,OAAOnG,GAAP,GAAa7G,cAAcuL,qBAA7G,EAAoI;AAChI9E,yCAAa5H,IAAb,CAAkB,CAACmO,OAAOnG,GAAP,GAAamI,KAAKK,GAAL,CAASrC,OAAOnG,GAAP,GAAazB,CAAtB,CAAd,EAAwCnE,SAASvE,MAAMiR,MAAf,CAAxC,CAAlB;AACH;AACJ;AACJ,aApLD;;AAsLA,gBAAIjH,eAAe,EAAnB;AACA,gBAAI+E,iBAAiB,EAArB;AACA,gBAAIC,mBAAmB,EAAvB;;AAEA8C,sBAAU,IAAV;AACAC,sBAAU,IAAV;AACAZ,sBAAU,IAAV;AACAa,sBAAU,IAAV;AACAC,sBAAU,IAAV;;AAEA,gBAAG3B,OAAO/O,WAAV,EAAuB;AACnBqP,kCAAkB3O,OAAlB,CAA0B,UAASjC,KAAT,EAAgB0I,CAAhB,EAAmB;AACzC,wBAAGnE,SAASvE,MAAM+Q,GAAf,KAAuBlM,OAAOsF,GAAjC,EAAsC;AAClC,4BAAIiH,eAAe7M,SAASqM,kBAAkB/L,OAAOsF,GAAzB,EAA8B8G,MAAvC,CAAnB;;AAIA,4BAAG1M,SAASvE,MAAM+Q,GAAf,KAAuB,EAA1B,EAA8B/Q,MAAMiR,MAAN,GAAe1M,SAASvE,MAAMiR,MAAf,IAAyBtP,KAAKlB,IAAL,CAAUwG,gBAAV,CAA2BgH,gCAAnE;;AAG9B,4BAAGpJ,OAAO3D,MAAP,IAAiB,MAAjB,IAA2B2D,OAAO3D,MAAP,IAAiB,MAA/C,EAAuD;AACnD,gCAAGqD,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvB,IAA6BxM,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvD,EAA2D;AACvDc,6CAAatN,SAASqM,kBAAkBlI,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASqM,kBAAkBlI,CAAlB,EAAqBuI,MAA9B,CAAvD;AACA,oCAAGpM,OAAOlC,aAAP,IAAwB,sBAA3B,EAAmD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAnD,KACK,IAAGhN,OAAOlC,aAAP,IAAwB,qBAA3B,EAAkD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAlD,KACA,IAAGhN,OAAOlC,aAAP,IAAwB,SAA3B,EAAsC3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAtC,KACA,IAAGhN,OAAOlC,aAAP,IAAwB,UAA3B,EAAuC3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AAC/C;AACJ,yBARD,MASK,IAAGhN,OAAO3D,MAAP,IAAiB,QAApB,EAA8B;AAC/B,gCAAGqD,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvB,IAA6BxM,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvD,EAA2D;AACvDc,6CAAatN,SAASqM,kBAAkBlI,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASqM,kBAAkBlI,CAAlB,EAAqBuI,MAA9B,CAAvD;AACA,oCAAGpM,OAAOlC,aAAP,IAAwB,sBAA3B,EAAmD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAnD,KACK,IAAGhN,OAAOlC,aAAP,IAAwB,qBAA3B,EAAkD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAlD,KACA,IAAGhN,OAAOlC,aAAP,IAAwB,SAA3B,EAAsC3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAtC,KACA,IAAGhN,OAAOlC,aAAP,IAAwB,UAA3B,EAAuC3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AAC/C;AACJ;;AAGD,4BAAGnJ,IAAI,CAAP,EAAU;AACNyB,kCAAMyG,kBAAkBlI,IAAE,CAApB,EAAuBqI,GAA7B;AACAM,mCAAOxE,WAAW+D,kBAAkBlI,CAAlB,EAAqBuI,MAAhC,CAAP;AACAK,mCAAOzE,WAAW+D,kBAAkBlI,IAAE,CAApB,EAAuBuI,MAAlC,CAAP;;AAEA,gCAAGa,OAAH,EAAY;AACR,oCAAGnQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAvC,mDAAe5M,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWpJ,cAAcoL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACAlD,qDAAiB7M,IAAjB,CAAsB,KAAtB;AACA2P,8CAAU,KAAV;AACH;AACJ;AACD,gCAAGC,OAAH,EAAY;AACR,oCAAGpQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAvC,mDAAe5M,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWpJ,cAAcoL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACAlD,qDAAiB7M,IAAjB,CAAsB,KAAtB;AACA4P,8CAAU,KAAV;AACH;AACJ;AACD,gCAAGZ,OAAH,EAAY;AACR,oCAAGxP,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAvC,mDAAe5M,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWpJ,cAAcoL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACAlD,qDAAiB7M,IAAjB,CAAsB,KAAtB;;AAEAsB,kDAAc0L,mBAAd,GAAoC,CAAC5K,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWpJ,cAAcoL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApC;AACAf,8CAAU,KAAV;AACH;AACJ;AACD,gCAAGa,OAAH,EAAY;AACR,oCAAGrQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAvC,mDAAe5M,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWpJ,cAAcoL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACAlD,qDAAiB7M,IAAjB,CAAsB,KAAtB;AACA6P,8CAAU,KAAV;AACH;AACJ;AACD,gCAAGC,OAAH,EAAY;AACR,oCAAGtQ,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,KAAkD,KAArD,EAA4D;AACxDE,6CAAS7P,KAAK4P,UAAL,CAAgBH,YAAhB,EAA8BC,IAA9B,EAAoCC,IAApC,EAA0C,GAA1C,CAAT;AACAvC,mDAAe5M,IAAf,CAAoB,CAACoC,SAAS4F,GAAT,IAAgBqH,MAAhB,GAAyB3E,WAAWpJ,cAAcoL,qBAAzB,CAA1B,EAA2EqD,OAA3E,CAAmF,CAAnF,CAApB;AACAlD,qDAAiB7M,IAAjB,CAAsB,KAAtB;AACA8P,8CAAU,KAAV;AACH;AACJ;AACJ;;AAED,4BAAG1N,SAASvE,MAAM+Q,GAAf,IAAsBtN,cAAcoL,qBAApC,GAA4DhK,OAAOsF,GAAtE,EAA2E;AACvEH,yCAAa7H,IAAb,CAAkB,CAACoC,SAASvE,MAAM+Q,GAAf,CAAD,EAAsBxM,SAASvE,MAAMiR,MAAf,CAAtB,CAAlB;AACH,yBAFD,MAGKjH,aAAa7H,IAAb,CAAkB,CAACoC,SAASvE,MAAM+Q,GAAf,IAAsBuB,KAAKC,KAAL,CAAW9O,cAAcoL,qBAAzB,CAAvB,EAAwEtK,SAASvE,MAAMiR,MAAf,CAAxE,CAAlB;AAER,qBAlFD,MAmFK,IAAG1M,SAASvE,MAAM+Q,GAAf,IAAsBlM,OAAOsF,GAAhC,EAAqC;AACtC,gCAAGtF,OAAO3D,MAAP,IAAiB,MAAjB,IAA2B2D,OAAO3D,MAAP,IAAiB,MAA/C,EAAuD;AACnD,oCAAGqD,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvB,IAA6BxM,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvD,EAA2D;AACvDc,iDAAatN,SAASqM,kBAAkBlI,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASqM,kBAAkBlI,CAAlB,EAAqBuI,MAA9B,CAAvD;AACA,wCAAIuB,gBAAgBjO,SAASvE,MAAM+Q,GAAf,IAAsBlM,OAAOuJ,eAAjD;;AAEA,wCAAGvJ,OAAOlC,aAAP,IAAwB,sBAA3B,EAAmD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAnD,KAEK,IAAGhN,OAAOlC,aAAP,IAAwB,qBAA3B,EAAkD;AACnD,gDAAG6P,gBAAgBjO,SAASvE,MAAM+Q,GAAf,CAAnB,EAAwC/Q,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAxC,KACK7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR,yCAHI,MAKA,IAAGhN,OAAOlC,aAAP,IAAwB,SAA3B,EAAsC;AACvC6P,6DAAiB3N,OAAOwJ,uBAAxB;AACA,gDAAIoE,eAAelO,SAASvE,MAAM+Q,GAAf,IAAsBlM,OAAOwJ,uBAAhD;;AAEA,gDAAGmE,gBAAgB,EAAhB,GAAqB,CAAxB,EAA2BxS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAA3B,KACK,IAAGW,gBAAgBC,YAAnB,EAAiCzS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAjC,KACA;AACD,4DAAGtN,SAASvE,MAAM+Q,GAAf,KAAuB0B,YAA1B,EAAwC;AACpCzS,kEAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACA7R,kEAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACH,yDAHD,MAIK,IAAGtN,SAASvE,MAAM+Q,GAAf,KAAuB0B,eAAe,CAAzC,EAA4C;AAC7CzS,kEAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACA7R,kEAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACH,yDAHI,MAIA7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR;AACJ,yCAjBI,MAmBA,IAAGhN,OAAOlC,aAAP,IAAwB,UAA3B,EAAuC;AACxC6P,6DAAiB3N,OAAOyJ,cAAxB;AACA,gDAAIoE,eAAenO,SAASvE,MAAM+Q,GAAf,IAAsBlM,OAAOyJ,cAAhD;;AAEA,gDAAGkE,gBAAgB,EAAhB,GAAqB,CAAxB,EAA2BxS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAA3B,KACK,IAAGW,gBAAgBE,YAAnB,EAAiC1S,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAjC,KACA7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR;AACJ;AACJ,6BAxCD,MAyCK,IAAGhN,OAAO3D,MAAP,IAAiB,QAApB,EAA8B;AAC/B,oCAAGqD,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvB,IAA6BxM,SAASvE,MAAM+Q,GAAf,KAAuB,EAAvD,EAA2D;AACvDc,iDAAatN,SAASqM,kBAAkBlI,IAAE,CAApB,EAAuBuI,MAAhC,IAA0C1M,SAASqM,kBAAkBlI,CAAlB,EAAqBuI,MAA9B,CAAvD;AACA,wCAAIuB,gBAAgBjO,SAASvE,MAAM+Q,GAAf,IAAsBlM,OAAOuJ,eAAjD;;AAEA,wCAAGvJ,OAAOlC,aAAP,IAAwB,sBAA3B,EAAmD3C,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAnD,KAEK,IAAGhN,OAAOlC,aAAP,IAAwB,qBAA3B,EAAkD;AACnD,gDAAG6P,gBAAgBjO,SAASvE,MAAM+Q,GAAf,CAAnB,EAAwC/Q,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAxC,KACK7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR,yCAHI,MAKA,IAAGhN,OAAOlC,aAAP,IAAwB,SAA3B,EAAsC;AACvC6P,6DAAiB3N,OAAOwJ,uBAAxB;AACA,gDAAIoE,eAAelO,SAASvE,MAAM+Q,GAAf,IAAsBlM,OAAOwJ,uBAAhD;;AAEA,gDAAGmE,gBAAgB,EAAhB,GAAqB,CAAxB,EAA2BxS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAA3B,KACK,IAAGW,gBAAgBC,YAAnB,EAAiCzS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAjC,KACA;AACD,4DAAGtN,SAASvE,MAAM+Q,GAAf,KAAuB0B,YAA1B,EAAwC;AACpCzS,kEAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACA7R,kEAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACH,yDAHD,MAIK,IAAGtN,SAASvE,MAAM+Q,GAAf,KAAuB0B,eAAe,CAAzC,EAA4C;AAC7CzS,kEAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACA7R,kEAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACH,yDAHI,MAIA7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR;AACJ,yCAjBI,MAmBA,IAAGhN,OAAOlC,aAAP,IAAwB,UAA3B,EAAuC;AACxC6P,6DAAiB3N,OAAOyJ,cAAxB;AACA,gDAAIoE,eAAenO,SAASvE,MAAM+Q,GAAf,IAAsBlM,OAAOyJ,cAAhD;;AAEA,gDAAGkE,gBAAgB,EAAhB,GAAqB,CAAxB,EAA2BxS,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAA3B,KACK,IAAGW,gBAAgBE,YAAnB,EAAiC1S,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B,CAAjC,KACA7R,MAAMiR,MAAN,IAAgBY,aAAa,GAA7B;AACR;AACJ;AACJ;AACJ;AACD,wBAAGtN,SAASvE,MAAM+Q,GAAf,IAAsBtN,cAAcoL,qBAApC,GAA4DhK,OAAOsF,GAAnE,IAA0EzB,KAAK7D,OAAOsF,GAAP,GAAa1G,cAAcoL,qBAA7G,EAAoI;AAChI7E,qCAAa7H,IAAb,CAAkB,CAAC0C,OAAOsF,GAAP,GAAamI,KAAKK,GAAL,CAAS9N,OAAOsF,GAAP,GAAazB,CAAtB,CAAd,EAAwCnE,SAASvE,MAAMiR,MAAf,CAAxC,CAAlB;AACH;AACJ,iBA3KD;AA4KH;;AAID3N,0BAAcyG,YAAd,GAA6BA,YAA7B;AACAtG,0BAAcuG,YAAd,GAA6BA,YAA7B;AACA1G,0BAAc2G,aAAd,GAA8BA,aAA9B;AACAxG,0BAAc0O,mBAAd,GAAoCA,mBAApC;;AAGA7O,0BAAcuG,cAAd,GAA+BA,cAA/B;AACApG,0BAAcsL,cAAd,GAA+BA,cAA/B;AACAzL,0BAAc2L,eAAd,GAAgCA,eAAhC;AACAxL,0BAAc2O,qBAAd,GAAsCA,qBAAtC;;AAGA9O,0BAAcwL,gBAAd,GAAiCA,gBAAjC;AACArL,0BAAcuL,gBAAd,GAAiCA,gBAAjC;AACA1L,0BAAc4L,iBAAd,GAAkCA,iBAAlC;AACAzL,0BAAc4O,uBAAd,GAAwCA,uBAAxC;AACH;;mCAEK/E;oFAAyBgD,QAAQhN,eAAeuB,QAAQpB;;;;;;;uCACpB,KAAKzF,UAAL,CAAgBI,KAAhB,CAAsB,qBAAqBkS,OAAOnC,IAAP,CAAY7N,WAAZ,EAArB,GAAiD,GAAjD,GAAuDgQ,OAAOpP,MAAP,CAAcZ,WAAd,EAAvD,GAAqF,OAA3G;;;AAAlCiQ;;uCAC0BA,0BAA0BjS,IAA1B;;;AAA1BkS;;uCAEkC,KAAKxS,UAAL,CAAgBI,KAAhB,CAAsB,qBAAqByG,OAAOsJ,IAAP,CAAY7N,WAAZ,EAArB,GAAiD,GAAjD,GAAuDuE,OAAO3D,MAAP,CAAcZ,WAAd,EAAvD,GAAqF,OAA3G;;;AAAlCqQ;;uCAC0BA,0BAA0BrS,IAA1B;;;AAA1BsS;;;AAEJ,qCAAKC,aAAL,CAAmBL,iBAAnB,EAAsCF,MAAtC,EAA8ChN,aAA9C,EACIsN,iBADJ,EACuB/L,MADvB,EAC+BpB,aAD/B","file":"app-bundle.js","sourcesContent":["import {inject} from 'aurelia-framework';\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {ReadFile} from 'utilities/readFile';\r\nimport $ from 'jquery';\r\nimport 'bootstrap';\r\n\r\n@inject(HttpClient, ReadFile)\r\nexport class App {\r\n  httpClient;\r\n\r\n  constructor(httpClient, readFile) {\r\n    this.httpClient = httpClient;\r\n    this.readFile = readFile;\r\n    this.message = 'Life Expectancy Calculator';\r\n  }\r\n\r\n  async activate() {\r\n    let data = await this.httpClient.fetch('/api/life-expectancy/get.json');\r\n    let data2 = await data.json();\r\n    this.readFile.getStateList(data2);\r\n  }\r\n\r\n  configureRouter(config, router) {\r\n    this.router = router;\r\n    config.title = \"Life Expectancy Calculator\";\r\n    config.map([\r\n      {\r\n        route: ['', 'personalinfo'], moduleId: 'aboutyou/personalinfo',\r\n        name: 'personalinfo', title: 'Personal Info', nav: true\r\n      },\r\n\r\n      {\r\n        route: 'myhealth', moduleId: 'health/myhealth',\r\n        name: 'myhealth', title: 'My Health', nav: true\r\n      },\r\n\r\n      {\r\n        route: 'occupation', moduleId: 'occupation/occupation',\r\n        name: 'occupation', title: 'Occupation', nav: true\r\n      },\r\n\r\n      {\r\n        route: 'results', moduleId: 'results/results',\r\n        name: 'results', title: 'Results', nav: true\r\n      },\r\n\r\n      {\r\n        route: 'jsonfile', moduleId: 'services/lifeExpectancy.json!json',\r\n        name: 'jsonfile', title: 'Json File', nav: true\r\n      }\r\n    ]);\r\n  }\r\n}\r\n\r\n","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import environment from './environment';\r\n\r\nexport function configure(aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","export class CapitalizeValueConverter {\r\n    toView(value) {\r\n        return value.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {User} from '../services/user';\r\nimport {StateData} from '../services/data/stateData';\r\nimport * as ionRangeSlider from \"ion-rangeslider\";\r\nimport {Slider} from '../utilities/slider';\r\nimport {CalculateResults} from '../utilities/calculations/calculateResults';\r\nimport {CalculateOccupation} from '../utilities/calculations/calculateOccupation';\r\nimport {OccupationData} from '../services/data/occupationData'\r\n\r\n@inject(Router, User, StateData, Slider, CalculateResults, CalculateOccupation, OccupationData)\r\nexport class personalinfo {\r\n\r\n    constructor(router, user, stateData, slider, calculateResults, calculateOccupation, occupationData) {\r\n        this.slider = slider;\r\n        this.router = router;\r\n        this.user = user;\r\n        this.stateData = stateData;\r\n        this.calculateResults = calculateResults;\r\n        this.calculateOccupation = calculateOccupation;\r\n        this.occupationData = occupationData;\r\n        if(this.occupationData.laborArray.length == 0) \r\n            calculateOccupation.loadOccupation();\r\n    }\r\n\r\n    gender(person) {\r\n        person.checkgender = !person.checkgender;\r\n        person.gender = person.checkgender ? 'Male' : 'Female';\r\n        console.log(person);\r\n    }\r\n\r\n    checkspouse() {\r\n        this.user.clientPersonalInfo.checkspouse = !this.user.clientPersonalInfo.checkspouse;\r\n    }\r\n\r\n    //======================LIFE EXPECTANCY FROM STATES/COUNTIES==================\r\n    //This method retrieves all of the counties from the client's current state\r\n    checkState(person) {\r\n        var state = person.state;\r\n        if(state != \"Please Select\") {\r\n            var self = this;\r\n            person.currentCountyArray = [];\r\n            state = state.toLowerCase();\r\n            var countyWithLifeArrays = this.stateData.stateToCountyMap.get(state).split(',');\r\n            countyWithLifeArrays.forEach(function (data) {\r\n                var currentCountyInfo = data.split(\":\");\r\n                person.currentCountyArray.push(currentCountyInfo[0]);\r\n            });\r\n            person.currentCountyArray.pop();\r\n        }\r\n        else person.county = \"Please Select\";\r\n    }\r\n\r\n    //This method checks the current client's life expectancy\r\n    checkLifeExpectancy(person) {\r\n        console.log(person);\r\n        if(person.county != \"Please Select\") {\r\n            var state = person.state;\r\n            state = state.toLowerCase();\r\n            var countyWithLifeArrays = this.stateData.stateToCountyMap.get(state).split(',');\r\n            countyWithLifeArrays.forEach(function (data) {\r\n                var currentCountyInfo = data.split(\":\");\r\n                //Life expectancy of male is index 2, life expectancy of female is index 1\r\n                var lifeExpectancy =  person.checkgender ? currentCountyInfo[2] : currentCountyInfo[1];\r\n                //If county name is found in array, then get life expectancy\r\n                if(currentCountyInfo[0].indexOf(person.county) != -1) {\r\n                    person.countyLifeExpectancy =  person.checkgender ? currentCountyInfo[1] : currentCountyInfo[2];\r\n                }\r\n            });\r\n        }\r\n    }\r\n    //===================END LIFE EXPECTANCY FROM STATES/COUNTIES==================\r\n\r\n    checkMaritalStatus(person) {\r\n        if(person.maritalStatus == \"Single/Never Married\") {\r\n            person.isSingle = true;\r\n            person.isMarried = false;\r\n            person.isWidowed = false;\r\n            person.isDivorced = false;\r\n        }\r\n        else if(person.maritalStatus == \"Married/Cohabitated\") {\r\n            person.isMarried = true;\r\n            person.isSingle = false;\r\n            person.isWidowed = false;\r\n            person.isDivorced = false;\r\n        }\r\n        else if(person.maritalStatus == \"Widowed\") {\r\n            person.isWidowed = true;\r\n            person.isSingle = false;\r\n            person.isMarried = false;\r\n            person.isDivorced = false;\r\n        }\r\n        else if(person.maritalStatus == \"Divorced\") {\r\n            person.isDivorced = true;\r\n            person.isSingle = false;\r\n            person.isMarried = false;\r\n            person.isWidowed = false;\r\n        }\r\n        else {\r\n            person.isSingle = false;\r\n            person.isMarried = false;\r\n            person.isWidowed = false;\r\n            person.isDivorced = false;\r\n        }\r\n    }\r\n\r\n    myhealth() {\r\n        this.router.navigate('#/myhealth');  \r\n    }\r\n\r\n    occupation() {\r\n        this.router.navigate('#/occupation');  \r\n    }\r\n\r\n    async submit() {\r\n        //Client calculations - results\r\n        if(this.user.clientPersonalInfo.education && this.user.clientPersonalInfo.education !== \"Please Select\") {\r\n            this.calculateResults.calculateEducation(this.user.clientPersonalInfo, this.user.clientResults);\r\n        }\r\n        this.calculateResults.addExpectancies(this.user.clientResults);\r\n        \r\n        console.log(\"=======CLIENT=======\");\r\n        console.log(this.user.clientPersonalInfo);\r\n        console.log(this.user.clientResults);\r\n\r\n        //Spouse calculations - results\r\n        if(this.user.clientPersonalInfo.checkspouse){\r\n            if(this.user.spousePersonalInfo.education && this.user.spousePersonalInfo.education !== \"Please Select\") {\r\n                this.calculateResults.calculateEducation(this.user.spousePersonalInfo, this.user.spouseResults);\r\n            }\r\n            this.calculateResults.addExpectancies(this.user.spouseResults);\r\n\r\n            console.log(\"=======SPOUSE=======\");\r\n            console.log(this.user.spousePersonalInfo);\r\n            console.log(this.user.spouseResults);\r\n        } \r\n\r\n        await this.calculateResults.getLifeTableData(this.user.clientPersonalInfo, this.user.clientResults,\r\n            this.user.spousePersonalInfo, this.user.spouseResults);\r\n        \r\n        this.router.navigate('#/results');  \r\n    }\r\n\r\n    attached() {\r\n        this.slider.createAgeSlider();\r\n    }\r\n}","import $ from 'jquery';\r\nimport 'jquery-ui-dist';\r\nimport {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {User} from '../services/user';\r\nimport {CalculateMyHealth} from '../utilities/calculations/calculateMyHealth';\r\n\r\n@inject(Router, User, CalculateMyHealth)\r\nexport class myhealth {\r\n    formHeightWeight = \"\";\r\n\r\n    constructor(router, user, calculateMyHealth) {\r\n        this.calculateMyHealth = calculateMyHealth;\r\n        this.router = router;\r\n        this.user = user;\r\n    }\r\n\r\n    //Checks for valid height for the client.\r\n    checkHeight(person) {\r\n        var valid = /^[2-9]' ?(?:\\d|1[0-1])\"?$/.test(person.height);\r\n        person.validHeight = valid;\r\n        person.heightError = valid ? \"\" : \"has-error\";\r\n        if(valid) {\r\n            var feetAndInches = person.height.split(\"'\");\r\n            person.heightInInches = parseInt(feetAndInches[0]) * 12 + parseInt(feetAndInches[1]);\r\n        }\r\n        //This handles the case where they first entered their weight\r\n        if(person.validWeight) {\r\n            this.calculateBMI(person);\r\n        }\r\n    }\r\n\r\n    //This calculates the BMI once both of the height and weight have been entered\r\n    calculateBMI(person) {\r\n        if(person.validHeight) {\r\n            this.calculateMyHealth.calculateBMI(person);\r\n            person.validBMI = true;\r\n            this.setIconType(person, false)\r\n            person.iconType = \"./src/health/images/\" + person.iconType + \".jpg\";\r\n        }\r\n        person.validWeight = true;\r\n        person.formHeightWeight = true;\r\n    }\r\n\r\n    //Determines the icon types give the client/spouse. If client is passed in then, spouse = false.\r\n    setIconType(person, spouse) {\r\n        switch(true) {\r\n            case person.bmi < 18.5:\r\n                person.iconType = \"underweight\";\r\n                break;\r\n            case person.bmi >= 18.5 && person.bmi < 25:\r\n                person.iconType = \"normal\";\r\n                break;\r\n            case person.bmi >= 25 && person.bmi < 30:\r\n                person.iconType = \"overweight\";\r\n                break;\r\n            case person.bmi > 30 && person.bmi < 35:\r\n                person.iconType = \"obese\";\r\n                break;\r\n            default:\r\n                person.iconType = \"extremely-obese\";\r\n                break;\r\n        }\r\n        return person;\r\n    }\r\n\r\n    diabetes(person) {\r\n        person.checkdiabetes = !person.checkdiabetes;\r\n    }\r\n\r\n    mental(person) {\r\n        person.checkmental = !person.checkmental;\r\n    }\r\n\r\n    //CHECK SMOKING\r\n    smoking(person) {\r\n        person.checksmoking = !person.checksmoking;\r\n    }\r\n\r\n    stillSmoking(person) {\r\n        person.checkStillSmoking = !person.checkStillSmoking;\r\n    }\r\n\r\n    back() {\r\n        this.router.navigate('#/personalinfo');  \r\n    }\r\n\r\n    submit() {\r\n        var check = true;\r\n\r\n        //EXERCISE\r\n        function exerciseCalculations(person, calc, results) {\r\n            if(person.exercisePerWeek && person.exercisePerWeek != \"Please Select\") {\r\n                if(person.bmi) {\r\n                    calc.calculateExercise(person);\r\n                    results.exercise = person.exerciseLifeExpectancy;\r\n                }\r\n                else {\r\n                    check = false;\r\n                    alert(\"We need a BMI to factor in your exercise per week\");\r\n                }\r\n            }\r\n        }\r\n        \r\n        function smokerCalculations(person, calc, results) {\r\n            if(person.checksmoking) {\r\n                if(person.kindOfSmoker && person.kindOfSmoker != \"Please Select\") {\r\n                    if(person.checkStillSmoking) {\r\n                        calc.calculateSmoker(person);\r\n                        results.smoker = person.smokerLifeExpectancy;\r\n                    }\r\n                }\r\n                else {\r\n                    check = false;\r\n                    alert(\"Enter what kind of smoker you are\");\r\n                }\r\n\r\n                if(!person.checkStillSmoking && person.ageQuitSmoking && person.ageQuitSmoking != \"Please Select\") {\r\n                    calc.calculateSmoker(person);\r\n                    results.smoker = person.smokerLifeExpectancy;\r\n                }\r\n                else if(!person.checkStillSmoking && (person.ageQuitSmoking || person.ageQuitSmoking != \"Please Select\")) {\r\n                    check = false;\r\n                    alert(\"Enter what age you quit smoking\");\r\n                }\r\n            }\r\n        }\r\n\r\n        //this.calculateMyHealth.calculateExercise(this.user.clientMyHealth);\r\n\r\n        exerciseCalculations(this.user.clientMyHealth, this.calculateMyHealth, this.user.clientResults);\r\n        smokerCalculations(this.user.clientMyHealth, this.calculateMyHealth, this.user.clientResults);\r\n        this.calculateMyHealth.calculateHealthRank(this.user.clientMyHealth, this.user.clientResults);\r\n        this.calculateMyHealth.calculateMentalHealth(this.user.clientMyHealth, this.user.clientResults);\r\n        this.calculateMyHealth.calculateAgeOfParents(this.user.clientMyHealth, this.user.clientResults, this.user.clientPersonalInfo.gender);\r\n        this.calculateMyHealth.calculateAlcoholConsumption(this.user.clientMyHealth, this.user.clientPersonalInfo, this.user.clientResults);\r\n        console.log(this.user.clientMyHealth);\r\n\r\n\r\n        if(this.user.clientPersonalInfo.checkspouse) {\r\n            exerciseCalculations(this.user.spouseMyHealth, this.calculateMyHealth, this.user.spouseResults);\r\n            smokerCalculations(this.user.spouseMyHealth, this.calculateMyHealth, this.user.spouseResults);\r\n            this.calculateMyHealth.calculateHealthRank(this.user.spouseMyHealth, this.user.spouseResults);\r\n            this.calculateMyHealth.calculateMentalHealth(this.user.spouseMyHealth, this.user.spouseResults);\r\n            this.calculateMyHealth.calculateAgeOfParents(this.user.spouseMyHealth, this.user.spouseResults, this.user.clientPersonalInfo.gender);\r\n            this.calculateMyHealth.calculateAlcoholConsumption(this.user.spouseMyHealth, this.user.spouseMyHealth, this.user.spouseResults);\r\n            console.log(this.user.spouseMyHealth);\r\n        }\r\n        \r\n        if(check) this.router.navigate('#/personalinfo');  \r\n    }\r\n\r\n    //This takes care of setting up the content for the tooltips\r\n    attached() {\r\n        //=====================CLIENT TOOLTIPS============================\r\n        $('#height-tooltip').tooltip( {\r\n            content: \"Your height is used to calculate your <b>Body Mass Index (BMI)</b>.\"\r\n        });\r\n\r\n        $('#weight-tooltip').tooltip( {\r\n            content: \"Your weight is used to calculate your <b>Body Mass Index (BMI)</b>.\"\r\n        });\r\n\r\n        $('#exercise-tooltip').tooltip( {\r\n            content: \"For every 1 minute of exercise, you get 7 minutes of extra life.<br><b>- National Institute of Health</b>\"\r\n        });\r\n\r\n        $('#health-rank-tooltip').tooltip({\r\n            content: \"How you view your health impacts your life expectancy.\"\r\n        })\r\n\r\n        $('#mental-tooltip').tooltip({\r\n            content: \"The serious mental conditions we account for include:<br>\" + \r\n                \"<b>Bipolar Disorder</b>, <br>\" + \r\n                \"<b>Schizophrenia</b>, <br>\" +\r\n                \"<b>Drug & Alcohol Abuse</b>, <br>\" +\r\n                \"<b>Recurrent Depression</b>.\"\r\n        })\r\n\r\n        //=====================SPOUSE TOOLTIPS============================\r\n        $('#spouse-height-tooltip').tooltip( {\r\n            content: \"Your height is used to calculate your <b>Body Mass Index (BMI)</b>.\"\r\n        });\r\n\r\n        $('#spouse-weight-tooltip').tooltip( {\r\n            content: \"Your weight is used to calculate your <b>Body Mass Index (BMI)</b>.\"\r\n        });\r\n\r\n        $('#spouse-exercise-tooltip').tooltip( {\r\n            content: \"For every 1 minute of exercise, you get 7 minutes of extra life.<br><b>- National Institute of Health</b>\"\r\n        });\r\n\r\n        $('#spouse-health-rank-tooltip').tooltip({\r\n            content: \"How you view your health impacts your life expectancy.\"\r\n        })\r\n\r\n        $('#spouse-mental-tooltip').tooltip({\r\n            content: \"The serious mental conditions we account for include:<br>\" + \r\n                \"<b>Bipolar Disorder</b>, <br>\" + \r\n                \"<b>Schizophrenia</b>, <br>\" +\r\n                \"<b>Drug & Alcohol Abuse</b>, <br>\" +\r\n                \"<b>Recurrent Depression</b>.\"\r\n        })\r\n\r\n    }\r\n}","export function configure(config) {\r\n  //config.globalResources([]);\r\n}\r\n","import {singleton} from 'aurelia-framework';\r\nimport {PersonalInfoData} from '../services/data/personalInfoData';\r\nimport {MyHealthData} from '../services/data/myHealthData';\r\nimport {OccupationData} from '../services/data/occupationData';\r\nimport {ResultsData} from '../services/data/resultsData';\r\n\r\n@singleton()\r\nexport class User {\r\n    constructor() {\r\n        this.clientPersonalInfo = new PersonalInfoData();\r\n        this.spousePersonalInfo = new PersonalInfoData();\r\n        \r\n        this.clientMyHealth = new MyHealthData();\r\n        this.spouseMyHealth = new MyHealthData();\r\n\r\n        this.clientOccupation = new OccupationData();\r\n        this.spouseOccupation = new OccupationData();\r\n\r\n        this.clientResults = new ResultsData();\r\n        this.spouseResults = new ResultsData();\r\n    }\r\n}","import { inject } from 'aurelia-framework';\r\nimport { Router } from 'aurelia-router';\r\nimport { User } from '../services/user';\r\nimport { CalculateOccupation } from '../utilities/calculations/calculateOccupation';\r\nimport { OccupationData } from '../services/data/occupationData';\r\n\r\n@inject(Router, User, CalculateOccupation, OccupationData)\r\nexport class occupation {\r\n\r\n    constructor(router, user, calculateOccupation, occupationData) {\r\n        this.router = router;\r\n        this.user = user;\r\n        this.calculateOccupation = calculateOccupation;\r\n        this.occupationData = occupationData;\r\n        this.occupationData.currentJobArray = this.occupationData.laborArray;\r\n    }\r\n\r\n    //DRAG AND DROP\r\n    allowDrop(ev) {\r\n        ev.preventDefault();\r\n    }\r\n\r\n    drag(ev) {\r\n        ev.dataTransfer.setData(\"tonberry\", ev.target.innerText);\r\n        ev.dataTransfer.setData(\"occu-name\", ev.srcElement.textContent);\r\n        return true;\r\n    }\r\n\r\n    removeDrop(ev) {\r\n        ev.dataTransfer.set\r\n    }\r\n\r\n    drop(ev) {\r\n        ev.preventDefault();\r\n        if(ev.target.id === \"spouse-drop-box\") {\r\n            this.user.spouseOccupation.occupationArray.push(ev.dataTransfer.getData(\"occu-name\"));\r\n            var index = this.occupationData.currentJobArray.indexOf(ev.dataTransfer.getData(\"occu-name\"));\r\n            this.occupationData.currentJobArray.splice(index, 1);\r\n        }\r\n        if(ev.target.id === \"drop-box\") {\r\n            this.user.clientOccupation.occupationArray.push(ev.dataTransfer.getData(\"occu-name\"));\r\n            var index = this.occupationData.currentJobArray.indexOf(ev.dataTransfer.getData(\"occu-name\"));\r\n            this.occupationData.currentJobArray.splice(index, 1);\r\n        }\r\n        var current;\r\n        var data = ev.dataTransfer.getData(\"tonberry\");\r\n        var elements = document.getElementsByClassName(\"current-buttons\");\r\n        var occupationName;\r\n        for(var i = 0; i < elements.length; i++) {\r\n            if((elements[i].textContent).trim() === data.trim()) {\r\n                current = elements[i];\r\n                occupationName = elements[i].textContent.trim();\r\n            }\r\n        }\r\n        ev.currentTarget.appendChild(current);\r\n    }\r\n\r\n    //INCOME\r\n    income(person) {\r\n        person.checkincome = !person.checkincome;\r\n    }\r\n\r\n    //CHECK OCCUPATION TYPE\r\n    checkOccupation(person, occupationName) {\r\n        person.type = occupationName.type;\r\n        switch(true) {\r\n            case occupationName.type.trim() === \"Skilled/Unskilled\":\r\n                this.occupationData.currentJobArray = this.occupationData.laborArray;\r\n                break;\r\n            case occupationName.type.trim() === \"Industry\":\r\n                this.occupationData.currentJobArray = this.occupationData.industryArray;\r\n                break;\r\n            case occupationName.type.trim() === \"Public Service\":\r\n                this.occupationData.currentJobArray = this.occupationData.publicServiceArray;\r\n                break;\r\n            case occupationName.type.trim() === \"Management\":\r\n                this.occupationData.currentJobArray = this.occupationData.managementArray;\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    //BUTTONS\r\n    back() {\r\n        this.router.navigate('#/personalinfo');\r\n    }\r\n\r\n    submit() {\r\n        var check = true;\r\n        if(this.user.clientOccupation.occupationArray.length != 0)\r\n            this.calculateOccupation.calculationOccupation(this.user.clientOccupation);\r\n        if(this.user.spouseOccupation.occupationArray.length != 0)\r\n            this.calculateOccupation.calculationOccupation(this.user.spouseOccupation);\r\n        if(this.user.clientOccupation.checkincome) {\r\n            if(!isNaN(this.user.clientOccupation.income)) {\r\n                this.calculateOccupation.calculateIncome(this.user.clientOccupation, this.user.clientPersonalInfo.gender, this.user.clientResults);\r\n            }\r\n            else {\r\n                check = false;\r\n                alert('Enter a valid income');\r\n            }\r\n        }\r\n           \r\n        if(this.user.clientPersonalInfo.checkspouse) {\r\n            if(this.user.spouseOccupation.checkincome) {\r\n                if(!isNaN(this.user.spouseOccupation.income)) {\r\n                    this.calculateOccupation.calculateIncome(this.user.spouseOccupation, this.user.spousePersonalInfo.gender, this.user.spouseResults);\r\n                }\r\n                else {\r\n                    check = false;\r\n                    alert('Enter a valid income');\r\n                }\r\n            }\r\n        }\r\n\r\n        if(check) this.router.navigate('#/personalinfo');\r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport {Router} from 'aurelia-router';\r\nimport {User} from '../services/user';\r\nimport {Chart} from '../utilities/chart';\r\nimport {CalculateResults} from '../utilities/calculations/calculateResults';\r\nimport {Slider} from '../utilities/slider';\r\n\r\n@inject(Router, User, Chart, CalculateResults, Slider)\r\nexport class results {\r\n    constructor(router, user, chart, calculateResults, slider) {\r\n        this.router = router;\r\n        this.user = user;\r\n        this.chart = chart;\r\n        this.calculateResults = calculateResults;\r\n        this.slider = slider;\r\n    }\r\n\r\n    checkSpouseDeath(person) {\r\n        person.checkSpouseDeath = !person.checkSpouseDeath;\r\n    }\r\n\r\n    spouseDies(person) {\r\n        console.log(person.spouseDeath);\r\n    }\r\n\r\n    attached() {\r\n        this.slider.createSpouseDiesSlider();\r\n        console.log(this.user.clientResults.clientTableAge);\r\n        var chartTuples = [];\r\n        if(this.user.clientPersonalInfo.checkspouse) {\r\n            chartTuples = [{\r\n                    name: 'Client',\r\n                    data:  this.user.clientResults.clientTuples\r\n                }, {\r\n                    name: 'Co-client',\r\n                    data:  this.user.spouseResults.spouseTuples\r\n                }, {\r\n                    name: 'Average',\r\n                    data:  this.user.clientResults.averageTuples\r\n                }];\r\n        }\r\n        else {\r\n            chartTuples = [{\r\n                    name: 'Client',\r\n                    data:  this.user.clientResults.clientTuples\r\n                }, {\r\n                    name: 'Average',\r\n                    data:  this.user.clientResults.averageTuples\r\n                }]\r\n        }\r\n\r\n        this.chart.createChart('chart-container', this.user.clientPersonalInfo.age, chartTuples);\r\n    }\r\n\r\n    back() {\r\n        this.router.navigate('#/personalinfo');  \r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport * as HighCharts from \"highcharts\";\r\nimport {User} from '../services/user';\r\n\r\n@inject(User)\r\nexport class Chart {\r\n    constructor(user) {\r\n        this.user = user;\r\n    }\r\n\r\n    createChart(containerID, age, chartTuples) {\r\n        //console.log(this.user.clientPersonalInfo.testTuples);\r\n        Highcharts.chart(containerID, {\r\n                title: {\r\n                    text: 'Life Expectancy'\r\n                },\r\n                xAxis: {\r\n                    title: {\r\n                        text: 'Age'\r\n                    }\r\n                },\r\n                plotOptions: {\r\n                    series: {\r\n                        pointStart: age\r\n                    }\r\n                },\r\n                yAxis: {\r\n                    title: {\r\n                        text: 'Chance of Living'\r\n                    }\r\n                },\r\n                series: chartTuples\r\n            }); \r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport {StateData} from '../services/data/stateData';\r\nimport {OccupationData} from '../services/data/occupationData';\r\nimport {MyHealthData} from '../services/data/myHealthData';\r\n\r\n@inject(StateData, OccupationData, MyHealthData)\r\nexport class ReadFile {\r\n\r\n    constructor(stateData, occupationData, myHealthData) {\r\n        this.stateData = stateData;\r\n        this.occupationData = occupationData;\r\n        this.myHealthData = myHealthData;\r\n    }\r\n\r\n    //Given the json data this method will create a set of states and save in stateData.js\r\n    getStateList(jsonData) {\r\n        var self = this;\r\n        jsonData.forEach(function (stateObject) { \r\n            self.stateData.stateSet.add(stateObject.State.toLowerCase())\r\n        });\r\n        this.getCountyList(jsonData);\r\n    } \r\n\r\n    //Given a state as input this method reads the json object and returns all counties for that state.\r\n    getCountyList(jsonData) {\r\n        var self = this;\r\n        jsonData.forEach(function (stateObject){\r\n            if(self.stateData.stateToCountyMap.has(stateObject.State.toLowerCase())) {\r\n                   var existingValues = self.stateData.stateToCountyMap.get(stateObject.State.toLowerCase());\r\n                   // Format for each county => County : Male Life Expectancy : Female Life Expectancy\r\n                   existingValues += \" \" + stateObject.County.toLowerCase() + \":\" + stateObject.Male + \":\" + stateObject.Female + \",\";\r\n                   self.stateData.stateToCountyMap.set(stateObject.State.toLowerCase(), existingValues);\r\n            }\r\n            else self.stateData.stateToCountyMap.set(stateObject.State.toLowerCase(), stateObject.County.toLowerCase() + \":\" + stateObject.Male + \":\" + stateObject.Female + \",\");\r\n        });\r\n    }\r\n\r\n    //Given json data as input this method reads the json object and saves the information in a category set and map for jobs.\r\n    getCategoryList(jsonData) {\r\n        var self = this;\r\n        jsonData.forEach((jobObject) => {\r\n            self.occupationData.occupationCategorySet.add(jobObject.Category);\r\n            var existingValues = self.occupationData.categoryToJobMap.get(jobObject.Category);\r\n            if(existingValues === undefined) existingValues = \"\";\r\n            existingValues += \" \" + jobObject.Occupation + \":\";\r\n            self.occupationData.categoryToJobMap.set(jobObject.Category, existingValues);\r\n        });\r\n    }\r\n\r\n    //Given json data and array of user occupations, this will find the change in life expectancy from occupation.\r\n    getOccupationDeathNumber(jsonData, arrayOccupations) {\r\n        var self = this;\r\n        var deathTotal = 0;\r\n        jsonData.forEach((jobObject) => {\r\n            arrayOccupations.forEach((userOccupation) => {\r\n                if(userOccupation.trim() === jobObject.Occupation.trim()) {\r\n                    deathTotal += parseInt(jobObject.Deaths);\r\n                }\r\n            })\r\n        });\r\n        return deathTotal;\r\n    }\r\n\r\n    //Gets the impact of alcohol consumption per week from json file\r\n    getAlcoholConsumption(person, jsonData, jsonValue) {\r\n        var self = this;\r\n        jsonData.forEach((weekObject) => {\r\n            if(weekObject.Consumption === jsonValue) {\r\n                console.log(weekObject.Consumption);\r\n                console.log(weekObject.Years);\r\n                person.alcoholConsumptionImpact = parseFloat(weekObject.Years);\r\n            }\r\n        });\r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport {User} from '../services/user';\r\nimport * as ionRangeSlider from \"ion-rangeslider\";\r\nimport {CalculateResults} from '../utilities/calculations/calculateResults';\r\n\r\n@inject(User, CalculateResults)\r\nexport class Slider {\r\n    constructor(user, calculateResults) {\r\n        this.user = user;\r\n        this.calculateResults = calculateResults;\r\n    }\r\n    \r\n    createAgeSlider() {\r\n        $(\"#age\").ionRangeSlider({\r\n            grid: true,\r\n            min: 0,\r\n            max: 100,\r\n            from: this.user.clientPersonalInfo.age,\r\n            step: 1,\r\n            onFinish: (data) => {\r\n                this.user.clientPersonalInfo.age = data.from;\r\n            }\r\n        });\r\n\r\n        $(\"#spouseage\").ionRangeSlider({\r\n            grid: true,\r\n            min: 0,\r\n            max: 100,\r\n            from: this.user.spousePersonalInfo.age,\r\n            step: 1,\r\n            onFinish: (data) => {\r\n                this.user.spousePersonalInfo.age = data.from;\r\n            }\r\n        });\r\n    }\r\n\r\n    createSpouseDiesSlider() {\r\n        $(\"#spouseDies\").ionRangeSlider({\r\n            grid: true,\r\n            min: this.user.spousePersonalInfo.age,\r\n            max: 100,\r\n            from: this.user.spousePersonalInfo.age + 20,\r\n            step: 1,\r\n            onFinish: (data) => {\r\n                this.user.clientResults.spouseDeath = data.from;\r\n                this.calculateResults.calculateSpouseDiesEarly(this.user.clientPersonalInfo, this.user.clientResults, \r\n                    this.user.spousePersonalInfo, this.user.spouseResults);\r\n            }\r\n        });\r\n    }\r\n}","export class MyHealthData {\r\n    constructor() {\r\n        this.height;\r\n        this.heightInInches;\r\n        this.weight;\r\n        this.bmi;\r\n        this.formHeightWeight = false;\r\n        this.exerciseLifeExpectancy = 0;\r\n\r\n        this.validHeight = false;\r\n        this.validWeight = false;\r\n        this.validBMI = false;\r\n        this.iconType = \"underweight\";\r\n        this.heightError = \"\";\r\n\r\n        this.exercisePerWeek;\r\n        this.healthRank;\r\n        this.checkdiabetes = false;\r\n        this.checkmental = false;\r\n        this.alcoholPerWeek;\r\n        this.alcoholConsumptionImpact = 0;\r\n\r\n        this.checksmoking = false;\r\n        this.checkStillSmoking = true;\r\n        this.kindOfSmoker;\r\n        this.ageQuitSmoking;\r\n        this.smokerLifeExpectancy = 0;\r\n\r\n        this.ageOfParents;\r\n    }\r\n}","export class OccupationData {\r\n    constructor() {\r\n        this.checkincome = false;\r\n        this.income = 0;\r\n        this.incomeLifeExpectancy = 0;\r\n\r\n        this.occupationType = ['Skilled/Unskilled', 'Industry', 'Public Service', 'Management'];\r\n        this.type = 'Skilled/Unskilled';\r\n\r\n        this.occupationCategorySet = new Set();\r\n        this.categoryToJobMap = new Map();\r\n        this.occupationChangeInLifeExpectancy = 0;\r\n\r\n        this.laborArray = [];\r\n        this.industryArray = [];\r\n        this.publicServiceArray = [];\r\n        this.managementArray = [];\r\n        this.currentJobArray = [];\r\n        //Keeps track of current occupation in drag and drop\r\n        this.occupationArray = [];\r\n    }\r\n}","import {transient} from 'aurelia-framework';\r\n\r\n@transient()\r\nexport class PersonalInfoData {\r\n    constructor() {\r\n        this.checkspouse = false;\r\n        \r\n        this.age = 30;\r\n        this.checkgender = true;\r\n        this.gender = 'male';\r\n\r\n        this.education;\r\n        this.race = 'white';\r\n\r\n        this.maritalStatus;\r\n        this.isSingle = false;\r\n        this.isMarried = false;\r\n        this.yearsOfMarriage = 0;\r\n        this.isWidowed = false;\r\n        this.yearsSinceSpousePassing = 0;\r\n        this.isDivorced = false;\r\n        this.yearsOfDivorce = 0;\r\n\r\n        this.state = \"Please Select\";\r\n        this.county = 'Please Select';\r\n        this.countyLifeExpectancy;\r\n        this.expectedYearsLeft;\r\n\r\n        this.currentCountyArray = [];\r\n    }\r\n}","import {transient} from 'aurelia-framework';\r\n\r\n@transient()\r\nexport class ResultsData {\r\n    constructor() {\r\n        this.checkSpouseDeath = false;\r\n        this.spouseDeath;\r\n        \r\n        //PERSONAL INFO EXPECTANCIES\r\n        this.education = 0;\r\n        this.marital = 0;\r\n        this.county = 0;\r\n\r\n        //MY HEALTH EXPECTANCIES\r\n        this.exercise = 0;\r\n        this.smoker = 0;\r\n        this.healthrank = 0;\r\n        this.diabetes = 0;\r\n        this.mental = 0;\r\n        this.parentAges = 0;\r\n        this.alcohol = 0;\r\n\r\n        //OCCUPATION EXPECTANCIES\r\n        this.income = 0;\r\n\r\n        //OVERALL EXPECTANCY\r\n        this.overallLifeExpectancy = 0;\r\n\r\n        //TUPLES\r\n        this.clientTuples = [];\r\n        this.clientTableAge = [];\r\n        this.clientTableValue = [];\r\n\r\n        this.spouseTuples = [];\r\n        this.spouseTableAge = [];\r\n        this.spouseTableValue = [];\r\n\r\n        this.averageTuples = [];\r\n        this.averageTableAge = [];\r\n        this.averageTableValue = [];\r\n\r\n        this.finalLifeExpectancy = 0;\r\n    }\r\n}","export class StateData {\r\n    stateSet = new Set();\r\n    stateToCountyMap = new Map();\r\n}","import {inject} from 'aurelia-framework';\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {User} from '../../services/user';\r\nimport {ReadFile} from '../readFile';\r\n\r\n@inject(User, ReadFile, HttpClient)\r\nexport class CalculateMyHealth {\r\n    constructor(user, readFile, httpClient) {\r\n        this.user = user;\r\n        this.readFile = readFile;\r\n        this.httpClient = httpClient;\r\n    }\r\n\r\n    //this calculates the body mass index(if you're wondering, tweet me @JesseCochran1)\r\n    calculateBMI(person) {\r\n        var metricWeight = person.weight * 0.45;\r\n        var metricHeight = person.heightInInches * 0.025;\r\n        var metricHeightSquared = metricHeight * metricHeight;\r\n        person.bmi = (metricWeight / metricHeightSquared).toPrecision(4);\r\n    }\r\n\r\n    //this calculates added/decreased life expectancy based on how many hours of exercise per week\r\n    calculateExercise(person) {\r\n        var exerciseLifeExpectancy = 0;\r\n\r\n        if(person.exercisePerWeek) {\r\n            var bmi = person.bmi;\r\n\r\n            if(person.exercisePerWeek.indexOf(\"0\") !== -1) {\r\n                exerciseLifeExpectancy = 0;\r\n                if(bmi >= 18.5 && bmi < 25) exerciseLifeExpectancy -= 4.7;\r\n                else if(bmi >= 25 && bmi < 30) exerciseLifeExpectancy -= 3.9;\r\n                else if(bmi >= 30 && bmi < 35) exerciseLifeExpectancy -= 5.0;\r\n                else if(bmi >= 35) exerciseLifeExpectancy -= 7.2;\r\n            }\r\n            else if(person.exercisePerWeek.indexOf(\"Less\") !== -1) {\r\n                exerciseLifeExpectancy = 1.8;\r\n                if(bmi >= 18.5 && bmi <= 24.9) exerciseLifeExpectancy -= 2.4;\r\n                else if(bmi >= 25 && bmi < 30) exerciseLifeExpectancy -= 1.8;\r\n                else if(bmi >= 30 && bmi < 35) exerciseLifeExpectancy -= 3.2;\r\n                else if(bmi >= 35) exerciseLifeExpectancy -= 6.2;\r\n            }\r\n            else if(person.exercisePerWeek.indexOf(\"Approximately\") !== -1) {\r\n                exerciseLifeExpectancy = 3.4;\r\n                if(bmi >= 18.5 && bmi <= 24.9) exerciseLifeExpectancy -= 0;\r\n                else if(bmi >= 25 && bmi < 30) exerciseLifeExpectancy -= 0;\r\n                else if(bmi >= 30 && bmi < 35) exerciseLifeExpectancy -= 1.6;\r\n                else if(bmi >= 35) exerciseLifeExpectancy -= 4.5;\r\n            }\r\n            else if(person.exercisePerWeek.indexOf(\"More\") !== -1) {\r\n                exerciseLifeExpectancy = 4.5;\r\n                if(bmi >= 18.5 && bmi <= 24.9) exerciseLifeExpectancy -= 0;\r\n                else if(bmi >= 25 && bmi < 30) exerciseLifeExpectancy -= 0;\r\n                else if(bmi >= 30 && bmi < 35) exerciseLifeExpectancy -= 1.6;\r\n                else if(bmi >= 35) exerciseLifeExpectancy -= 4.5;\r\n            }\r\n        }\r\n        person.exerciseLifeExpectancy = exerciseLifeExpectancy;\r\n    }\r\n\r\n    calculateHealthRank(person, personResults) {\r\n        if(person.healthRank == \"I'm in great health\") personResults.healthrank = 3.8;\r\n        else if(person.healthRank == \"I'm in poor health\") personResults.healthrank = -3.8;\r\n        else personResults.healthRank = 0;\r\n    }\r\n\r\n    //this calculates added/decreased life expectancy based on smoking\r\n    calculateSmoker(person) {\r\n        var smokerLifeExpectancy = 0;\r\n        var stillSmoking = person.checkStillSmoking;\r\n        var kindOfSmoker = person.kindOfSmoker;\r\n        \r\n        //CHECK KIND OF SMOKER\r\n        if(kindOfSmoker.indexOf(\"Light\") !== -1) {\r\n            smokerLifeExpectancy = -4.8;\r\n\r\n            //Add years if they quit smoking\r\n            if(!stillSmoking) { \r\n                var age = person.ageQuitSmoking;\r\n                if(age.indexOf(\"25\") !== -1) smokerLifeExpectancy += 4.8; //max 10\r\n                else if(age.indexOf(\"35\") !== -1) smokerLifeExpectancy += 4.8; //max 9\r\n                else if(age.indexOf(\"45\") !== -1) smokerLifeExpectancy += 4.8; //max 6\r\n                else if(age.indexOf(\"60\") !== -1) smokerLifeExpectancy += 3; //max 3\r\n            }\r\n        }\r\n        else if(kindOfSmoker.indexOf(\"Average\") !== -1) {\r\n            smokerLifeExpectancy -= 6.8;\r\n\r\n            //Add years if they quit smoking\r\n            if(!stillSmoking) { \r\n                var age = person.ageQuitSmoking;\r\n                if(age.indexOf(\"25\") !== -1) smokerLifeExpectancy += 6.8; //max 10\r\n                else if(age.indexOf(\"35\") !== -1) smokerLifeExpectancy += 6.8; //max 9\r\n                else if(age.indexOf(\"45\") !== -1) smokerLifeExpectancy += 6; //max 6\r\n                else if(age.indexOf(\"60\") !== -1) smokerLifeExpectancy += 3; //max 3\r\n            }\r\n        }\r\n        else if(kindOfSmoker.indexOf(\"Heavy\") !== -1) {\r\n            smokerLifeExpectancy -= 8.8;\r\n\r\n            //Add years if they quit smoking\r\n            if(!stillSmoking) { \r\n                var age = person.ageQuitSmoking;\r\n                if(age.indexOf(\"25\") !== -1) smokerLifeExpectancy += 8.8; //max 10\r\n                else if(age.indexOf(\"35\") !== -1) smokerLifeExpectancy += 8.8; //max 9\r\n                else if(age.indexOf(\"45\") !== -1) smokerLifeExpectancy += 6; //max 6\r\n                else if(age.indexOf(\"60\") !== -1) smokerLifeExpectancy += 3; //max 3\r\n            }\r\n        }\r\n        person.smokerLifeExpectancy = smokerLifeExpectancy;\r\n    }\r\n\r\n    //this calculates added/decreased life expectancy based on mental illness\r\n    calculateMentalHealth(person, personResults) {\r\n        if(person.checkmental) {\r\n            personResults.mental = -9;\r\n        }\r\n        else {\r\n            personResults.mental = 0;\r\n        }\r\n    }\r\n\r\n    calculateAgeOfParents(person, personResults, gender) {\r\n        var parentAges = 0;\r\n        if(person.ageOfParents == \"Both after the age of 75\" || person.ageOfParents == \"They are both still alive and older than 75\") {\r\n            if(gender == \"Male\" || gender == 'male') parentAges += 4.2;\r\n            else if(gender == \"Female\") parentAges += 3.5;\r\n        }\r\n        else if(person.ageOfParents == \"Both before the age of 75\") {\r\n            if(gender == \"Male\" || gender == 'male') parentAges -= 4.2;\r\n            else if(gender == \"Female\") parentAges -= 3.5;\r\n        }\r\n\r\n        personResults.parentAges = parentAges;\r\n    }\r\n\r\n    //Given a person, this method calculates the impact of alcohol consumption on life expectancy\r\n    async calculateAlcoholConsumption(personHealth, personInfo, personResults) {\r\n        var jsonName = personInfo.race.toLowerCase() + \"-\" + personInfo.gender + \".json\";\r\n        var alcohol = personHealth.alcoholPerWeek;\r\n\r\n        var jsonValueToSearch;\r\n        switch(true) {\r\n            case alcohol === '8 or more':\r\n                jsonValueToSearch = 'more than 8 drinks';\r\n                break;\r\n            case alcohol === 'Less than 2':\r\n                jsonValueToSearch = 'less than 2 drinks';\r\n                break;\r\n            case alcohol === 'Between 2 and 7':\r\n                jsonValueToSearch = 'between 2 and 7 drinks';\r\n                break;\r\n            default:\r\n                jsonValueToSearch = 'None';\r\n                break;\r\n        }\r\n        let jsonData = await this.httpClient.fetch('/api/alcohol-table/' + jsonName);\r\n        let json = await jsonData.json()\r\n        this.readFile.getAlcoholConsumption(personHealth, json, jsonValueToSearch);\r\n\r\n        personResults.alcohol = personHealth.alcoholConsumptionImpact;\r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport {User} from '../../services/user';\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {ReadFile} from 'utilities/readFile';\r\nimport {OccupationData} from '../../services/data/occupationData';\r\n\r\n@inject(User, HttpClient, ReadFile, OccupationData)\r\nexport class CalculateOccupation {\r\n    constructor(user, httpClient, readFile, occupationData) {\r\n        this.user = user;\r\n        this.httpClient = httpClient;\r\n        this.readFile = readFile;\r\n        this.occupationData = occupationData;\r\n    }\r\n\r\n    //Calculate income\r\n    calculateIncome(person, gender, results) {\r\n        var incomeLifeExpectancy = 0;\r\n\r\n        if(person.checkincome) {\r\n            if(parseFloat(person.income) >= 188996) {\r\n                if(gender == \"male\" || gender == \"Male\") incomeLifeExpectancy += 2.34;\r\n                else if(gender == \"Female\") incomeLifeExpectancy += 2.91;\r\n            }\r\n            else {\r\n                if(gender == \"male\" || gender == \"Male\") incomeLifeExpectancy += 0.32;\r\n                else if(gender == \"Female\") incomeLifeExpectancy += 0.04;\r\n            }\r\n        }\r\n\r\n        person.incomeLifeExpectancy = incomeLifeExpectancy;\r\n        results.income = incomeLifeExpectancy;\r\n    }\r\n\r\n    //Loads the occupation data\r\n    async loadOccupation() {\r\n        let data = await this.httpClient.fetch('/api/occupation-table/occupation.json');\r\n        let loadedData = await data.json();\r\n        this.readFile.getCategoryList(loadedData);\r\n        this.createJobArrays(\"Manual Labor\");\r\n        this.createJobArrays(\"Industry\");\r\n        this.createJobArrays(\"Public Service\");\r\n        this.createJobArrays(\"Management\");\r\n    }\r\n\r\n    //Calculate life expectancy values based on occupation\r\n    async calculationOccupation(person) {\r\n        let data = await this.httpClient.fetch('/api/occupation-table/occupation.json');\r\n        let loadedData = await data.json();\r\n        person.occupationChangeInLifeExpectancy = this.readFile.getOccupationDeathNumber(loadedData, person.occupationArray);\r\n    }\r\n\r\n    //Creates job array\r\n    createJobArrays(type) {\r\n        var currentArray = [];\r\n        var listToArray = this.occupationData.categoryToJobMap.get(type).split(\":\");\r\n        listToArray.forEach(function (job) {\r\n            currentArray.push(job);\r\n        }); \r\n        //Gets rid of blank space at end of array\r\n        currentArray.pop();\r\n        switch(true) {\r\n            case type === 'Manual Labor':\r\n                this.occupationData.laborArray = currentArray;\r\n                break;\r\n            case type === 'Industry':\r\n                this.occupationData.industryArray = currentArray;\r\n                break;\r\n            case type === 'Public Service':\r\n                this.occupationData.publicServiceArray = currentArray;\r\n                break;\r\n            case type === 'Management':\r\n                this.occupationData.managementArray = currentArray;\r\n                break;\r\n        }\r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {User} from '../../services/user';\r\n\r\n@inject(HttpClient, User)\r\nexport class CalculateResults {\r\n    httpClient;\r\n\r\n    constructor(httpClient, user) {\r\n        this.httpClient = httpClient;\r\n        this.user = user;\r\n    }\r\n\r\n    //Gets the life table based on the users race and gender\r\n    async getLifeTableData(client, clientResults, spouse, spouseResults) {\r\n        let clientEthnicityExpectancy = await this.httpClient.fetch('/api/life-table/' + client.race.toLowerCase() + '-' + client.gender.toLowerCase() + '.json');\r\n        let clientResultsData = await clientEthnicityExpectancy.json();\r\n        this.setUserExpectedAge(clientResultsData, client);\r\n        if(this.user.clientMyHealth.checkdiabetes) await this.calculateDiabetes(clientResultsData, client, clientResults);\r\n\r\n        var spouseResultsData;\r\n        if(client.checkspouse) {\r\n            let spouseEthnicityExpectancy = await this.httpClient.fetch('/api/life-table/' + spouse.race.toLowerCase() + '-' + spouse.gender.toLowerCase() + '.json');\r\n            spouseResultsData = await spouseEthnicityExpectancy.json();\r\n            this.setUserExpectedAge(spouseResultsData, spouse);\r\n            if(this.user.spouseMyHealth.checkdiabetes) await this.calculateDiabetes(spouseResultsData, spouse, spouseResults);\r\n        }\r\n\r\n\r\n        this.getTestTuples(clientResultsData, client, clientResults,\r\n            spouseResultsData, spouse, spouseResults);\r\n    }\r\n\r\n    //Iterates through the json object to determine the user's expected age\r\n    setUserExpectedAge(data, person) {\r\n        data.forEach(function(value) {\r\n            //If the user is currently the age in the json object, then the current age is set\r\n            var currentAgeArray = [];\r\n            currentAgeArray[0] = parseInt(value.Age.slice(0, 2));\r\n            currentAgeArray[1] = parseInt(value.Age.slice(3, 5));\r\n            if((currentAgeArray[0] === person.age || currentAgeArray[1] === person.age) && person.age <= currentAgeArray[0]) {\r\n                person.expectedYearsLeft = parseInt(value.Number);\r\n            }\r\n        });\r\n    }\r\n\r\n    //SUBTRACT DIABETES YEARS\r\n    calculateDiabetes(personResultsData, person, personResults) {\r\n        var self = this;\r\n        var age;\r\n        var check50 = true;\r\n\r\n        personResultsData.forEach(function(value, i) {\r\n            if(i > 0 ) {\r\n                var initialValue = parseInt(personResultsData[person.age].Number);\r\n                var less = parseFloat(personResultsData[i].Number);\r\n                var more = parseFloat(personResultsData[i-1].Number);\r\n\r\n                if(check50) {\r\n                    if(self.getPercent(initialValue, less, more, .50) != false) {\r\n                        var number = self.getPercent(initialValue, less, more, .50);\r\n                        age = parseInt(personResultsData[i-1].Age) + number;\r\n                        check50 = false;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        personResults.diabetes = 0;\r\n\r\n        if(age < 70) personResults.diabetes = 5.4;\r\n        else if(age >= 70 && age < 80) personResults.diabetes = 4.0;\r\n        else if(age >= 80 && age < 90) personResults.diabetes = 2.5;\r\n        else if(age >= 90 && age < 100) personResults.diabetes = 1.0;\r\n        else if(age >= 100) personResults.diabetes = 0;\r\n\r\n        personResults.overallLifeExpectancy -= personResults.diabetes;\r\n    }\r\n\r\n    //Education calculation\r\n    calculateEducation(person, results) {\r\n        var educationLifeExpectancy = 0;\r\n        var education = person.education;\r\n        if(education.indexOf(\"Didn't\") !== -1) { //If didn't complete high school\r\n            if(person.gender == 'Male' || person.gender == 'male') educationLifeExpectancy -= 2;\r\n            else if(person.gender == 'Female') educationLifeExpectancy -= 0.4;\r\n        } \r\n        if(education.indexOf(\"trade school\") !== -1) { //If graduated high school\r\n            if(person.gender == 'Male' || person.gender == 'male') educationLifeExpectancy -= 0.4;\r\n            else if(person.gender == 'Female') educationLifeExpectancy += 0.25;\r\n        } \r\n        if(education.indexOf(\"college\") !== -1) { //If graduated college or more\r\n            if(person.gender == 'Male' || person.gender == 'male') educationLifeExpectancy += 3;\r\n            else if(person.gender == 'Female') educationLifeExpectancy += 1.9;\r\n        } \r\n\r\n        results.education = educationLifeExpectancy;\r\n    }\r\n\r\n    //Add years from expectancies\r\n    addExpectancies(personResults) {\r\n        personResults.overallLifeExpectancy = 0;\r\n        //Personal Info Factors\r\n        personResults.overallLifeExpectancy += personResults.education;\r\n        personResults.overallLifeExpectancy += personResults.marital;\r\n        \r\n        //MyHealth Factors\r\n        personResults.overallLifeExpectancy += personResults.exercise;\r\n        personResults.overallLifeExpectancy += personResults.smoker;\r\n        personResults.overallLifeExpectancy += personResults.healthrank;\r\n        personResults.overallLifeExpectancy += personResults.diabetes;\r\n        personResults.overallLifeExpectancy += personResults.mental;\r\n        personResults.overallLifeExpectancy += personResults.parentAges;\r\n        personResults.overallLifeExpectancy += personResults.alcohol;\r\n        //personResults.overallLifeExpectancy += personResults.county;\r\n\r\n        //Occupation Factors\r\n        personResults.overallLifeExpectancy += personResults.income;\r\n    }\r\n\r\n    getPercent(initialValue, currentValue, pastValue, percentage) {\r\n        if(currentValue < initialValue * percentage) {\r\n            var difference = pastValue - currentValue;\r\n            var number = (pastValue - initialValue * percentage) / difference;\r\n            return number;\r\n        }\r\n        else return false;\r\n    }\r\n    \r\n    //Gets test tuples for chart data\r\n    getTestTuples(clientResultsData, client, clientResults,\r\n            spouseResultsData, spouse, spouseResults) {\r\n        var clientTuples = [];\r\n        var clientTableAge = [];\r\n        var clientTableValue = [];\r\n        var self = this;\r\n        var age, more, less, difference, number, check90, check75, check50, check25, check10;\r\n        var self = this;\r\n\r\n        var averageTuples = [];\r\n        var averageTableAge = [];\r\n        var averageTableValue = [];\r\n\r\n        check90 = true; \r\n        check75 = true; \r\n        check50 = true; \r\n        check25 = true; \r\n        check10 = true;\r\n\r\n        //AVERAGE CLIENT\r\n        clientResultsData.forEach(function(value, i) {\r\n            if(parseInt(value.Age) >= client.age) {\r\n                var initialValue = parseInt(clientResultsData[client.age].Number);\r\n\r\n                //GET PERCENTILES\r\n                if(i > 0) {\r\n                    age = clientResultsData[i-1].Age;\r\n                    less = parseFloat(clientResultsData[i].Number);\r\n                    more = parseFloat(clientResultsData[i-1].Number);\r\n                    \r\n                    if(check90) {\r\n                        if(self.getPercent(initialValue, less, more, .90) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .90);\r\n                            averageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                            averageTableValue.push(\"90%\");\r\n                            check90 = false;\r\n                        }\r\n                    }\r\n                    if(check75) {\r\n                        if(self.getPercent(initialValue, less, more, .75) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .75);\r\n                            averageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                            averageTableValue.push(\"75%\");\r\n                            check75 = false;\r\n                        }\r\n                    }\r\n                    if(check50) {\r\n                        if(self.getPercent(initialValue, less, more, .50) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .50);\r\n                            averageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                            averageTableValue.push(\"50%\");\r\n                            check50 = false;\r\n                        }\r\n                    }\r\n                    if(check25) {\r\n                        if(self.getPercent(initialValue, less, more, .25) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .25);\r\n                            averageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                            averageTableValue.push(\"25%\");\r\n                            check25 = false;\r\n                        }\r\n                    }\r\n                    if(check10) {\r\n                        if(self.getPercent(initialValue, less, more, .10) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .10);\r\n                            averageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                            averageTableValue.push(\"10%\");\r\n                            check10 = false;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                averageTuples.push([parseInt(value.Age), parseInt(value.Number)]);\r\n            }\r\n        });\r\n\r\n\r\n        var spouseAverageTuples = [];\r\n        var spouseAverageTableAge = [];\r\n        var spouseAverageTableValue = [];\r\n\r\n        check90 = true; \r\n        check75 = true; \r\n        check50 = true; \r\n        check25 = true; \r\n        check10 = true;\r\n\r\n        //AVERAGE SPOUSE\r\n        if(client.checkspouse) {\r\n            spouseResultsData.forEach(function(value, i) {\r\n                if(parseInt(value.Age) >= client.age) {\r\n                    var initialValue = parseInt(spouseResultsData[spouse.age].Number);\r\n\r\n                    //GET PERCENTILES\r\n                    if(i > 0) {\r\n                        age = spouseResultsData[i-1].Age;\r\n                        less = parseFloat(spouseResultsData[i].Number);\r\n                        more = parseFloat(spouseResultsData[i-1].Number);\r\n                        \r\n                        if(check90) {\r\n                            if(self.getPercent(initialValue, less, more, .90) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .90);\r\n                                spouseAverageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                                spouseAverageTableValue.push(\"90%\");\r\n                                check90 = false;\r\n                            }\r\n                        }\r\n                        if(check75) {\r\n                            if(self.getPercent(initialValue, less, more, .75) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .75);\r\n                                spouseAverageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                                spouseAverageTableValue.push(\"75%\");\r\n                                check75 = false;\r\n                            }\r\n                        }\r\n                        if(check50) {\r\n                            if(self.getPercent(initialValue, less, more, .50) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .50);\r\n                                spouseAverageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                                spouseAverageTableValue.push(\"50%\");\r\n                                check50 = false;\r\n                            }\r\n                        }\r\n                        if(check25) {\r\n                            if(self.getPercent(initialValue, less, more, .25) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .25);\r\n                                spouseAverageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                                spouseAverageTableValue.push(\"25%\");\r\n                                check25 = false;\r\n                            }\r\n                        }\r\n                        if(check10) {\r\n                            if(self.getPercent(initialValue, less, more, .10) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .10);\r\n                                spouseAverageTableAge.push((parseInt(age) + number).toFixed(2));\r\n                                spouseAverageTableValue.push(\"10%\");\r\n                                check10 = false;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    spouseAverageTuples.push([parseInt(value.Age), parseInt(value.Number)]);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        check90 = true; \r\n        check75 = true; \r\n        check50 = true; \r\n        check25 = true; \r\n        check10 = true;\r\n              \r\n        //CLIENT\r\n        clientResultsData.forEach(function(value, i) {\r\n            if(parseInt(value.Age) >= client.age) {\r\n                var initialValue = parseInt(clientResultsData[client.age].Number);\r\n                \r\n                if(clientResults.checkSpouseDeath && (parseInt(value.Age) === client.age + (clientResults.spouseDeath - spouse.age))) {\r\n                     difference = parseInt(clientResultsData[i-1].Number) - parseInt(clientResultsData[i].Number);\r\n                     value.Number -= difference * .66;\r\n                } else if(clientResults.checkSpouseDeath && (client.gender === 'male' || client.gender ==='Male') \r\n                            && parseInt(value.Age) === client.age + (clientResults.spouseDeath - spouse.age) + 1) {\r\n                     difference = parseInt(clientResultsData[i-1].Number) - parseInt(clientResultsData[i].Number);\r\n                     value.Number -= difference * .30;\r\n                }\r\n                \r\n                //OCCUPATION\r\n                if(parseInt(value.Age) <= 67) value.Number = parseInt(value.Number) - self.user.clientOccupation.occupationChangeInLifeExpectancy;\r\n                \r\n                //MARITAL STATUS\r\n                if(client.gender == 'male' || client.gender == 'Male') {\r\n                    if(parseInt(value.Age) >= 28 && parseInt(value.Age) <= 70) {\r\n                        difference = parseInt(clientResultsData[i-1].Number) - parseInt(clientResultsData[i].Number);\r\n                        if(client.maritalStatus == 'Single/Never Married') value.Number -= difference * .32; //Always Single\r\n                        else if(client.maritalStatus == 'Married/Cohabitated') value.Number += difference * .15; //Years of marriage\r\n                        else if(client.maritalStatus == 'Widowed') value.Number -= difference * .32; //Years after passing\r\n                        else if(client.maritalStatus == 'Divorced') value.Number -= difference * .32; //Years after divorce\r\n                    }\r\n                }\r\n                else if(client.gender == 'Female') {\r\n                    if(parseInt(value.Age) >= 25 && parseInt(value.Age) <= 70) {\r\n                        difference = parseInt(clientResultsData[i-1].Number) - parseInt(clientResultsData[i].Number);\r\n                        if(client.maritalStatus == 'Single/Never Married') value.Number -= difference * .32; //Always Single\r\n                        else if(client.maritalStatus == 'Married/Cohabitated') value.Number += difference * .15; //Years of marriage\r\n                        else if(client.maritalStatus == 'Widowed') value.Number -= difference * .32; //Years after passing\r\n                        else if(client.maritalStatus == 'Divorced') value.Number -= difference * .32; //Years after divorce\r\n                    }\r\n                }\r\n\r\n                //GET PERCENTILES\r\n                if(i > 0) {\r\n                    age = clientResultsData[i-1].Age;\r\n                    less = parseFloat(clientResultsData[i].Number);\r\n                    more = parseFloat(clientResultsData[i-1].Number);\r\n                    \r\n                    if(check90) {\r\n                        if(self.getPercent(initialValue, less, more, .90) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .90);\r\n                            clientTableAge.push((parseInt(age) + number + parseFloat(clientResults.overallLifeExpectancy)).toFixed(2));\r\n                            clientTableValue.push(\"90%\");\r\n                            check90 = false;\r\n                        }\r\n                    }\r\n                    if(check75) {\r\n                        if(self.getPercent(initialValue, less, more, .75) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .75);\r\n                            clientTableAge.push((parseInt(age) + number + parseFloat(clientResults.overallLifeExpectancy)).toFixed(2));\r\n                            clientTableValue.push(\"75%\");\r\n                            check75 = false;\r\n                        }\r\n                    }\r\n                    if(check50) {\r\n                        if(self.getPercent(initialValue, less, more, .50) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .50);\r\n                            clientTableAge.push((parseInt(age) + number + parseFloat(clientResults.overallLifeExpectancy)).toFixed(2));\r\n                            clientTableValue.push(\"50%\");\r\n\r\n                            clientResults.finalLifeExpectancy = (parseInt(age) + number + parseFloat(clientResults.overallLifeExpectancy)).toFixed(2);\r\n                            check50 = false;\r\n                        }\r\n                    }\r\n                    if(check25) {\r\n                        if(self.getPercent(initialValue, less, more, .25) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .25);\r\n                            clientTableAge.push((parseInt(age) + number + parseFloat(clientResults.overallLifeExpectancy)).toFixed(2));\r\n                            clientTableValue.push(\"25%\");\r\n                            check25 = false;\r\n                        }\r\n                    }\r\n                    if(check10) {\r\n                        if(self.getPercent(initialValue, less, more, .10) != false) {\r\n                            number = self.getPercent(initialValue, less, more, .10);\r\n                            clientTableAge.push((parseInt(age) + number + parseFloat(clientResults.overallLifeExpectancy)).toFixed(2));\r\n                            clientTableValue.push(\"10%\");\r\n                            check10 = false;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if(parseInt(value.Age) + clientResults.overallLifeExpectancy < client.age) {\r\n                    clientTuples.push([parseInt(value.Age), parseInt(value.Number)]);\r\n                }\r\n                else clientTuples.push([parseInt(value.Age) + Math.trunc(clientResults.overallLifeExpectancy), parseInt(value.Number)]);\r\n                \r\n            } //PAST MARITAL STATUS \r\n            else if(parseInt(value.Age) < client.age) {\r\n                if(client.gender == 'male' || client.gender == 'Male') {\r\n                    if(parseInt(value.Age) >= 28 && parseInt(value.Age) <= 70) {\r\n                        difference = parseInt(clientResultsData[i-1].Number) - parseInt(clientResultsData[i].Number);\r\n                        var ageAtMarriage = parseInt(value.Age) - client.yearsOfMarriage;\r\n\r\n                        if(client.maritalStatus == 'Single/Never Married') value.Number -= difference * .32; //Always Single\r\n\r\n                        else if(client.maritalStatus == 'Married/Cohabitated') {\r\n                            if(ageAtMarriage > parseInt(value.Age)) value.Number -= difference * .32; //Years they were single\r\n                            else value.Number += difference * .15; //Years of marriage\r\n                        }\r\n\r\n                        else if(client.maritalStatus == 'Widowed') {\r\n                            ageAtMarriage -= client.yearsSinceSpousePassing;\r\n                            var ageAtPassing = parseInt(value.Age) - client.yearsSinceSpousePassing;\r\n\r\n                            if(ageAtMarriage - 28 > 0) value.Number -= difference * .32; //Years they were single before marriage\r\n                            else if(ageAtMarriage < ageAtPassing) value.Number += difference * .15; //Years of Marriage\r\n                            else {\r\n                                if(parseInt(value.Age) == ageAtPassing) {\r\n                                    value.Number -= difference * .32;\r\n                                    value.Number -= difference * .66; //Year of passing\r\n                                }\r\n                                else if(parseInt(value.Age) == ageAtPassing + 1) {\r\n                                    value.Number -= difference * .32;\r\n                                    value.Number -= difference * .30; //Year after the year of passing\r\n                                }\r\n                                else value.Number -= difference * .32; //Years after passing\r\n                            }\r\n                        }\r\n\r\n                        else if(client.maritalStatus == 'Divorced') {\r\n                            ageAtMarriage -= client.yearsOfDivorce;\r\n                            var ageAtDivorce = parseInt(value.Age) - client.yearsOfDivorce;\r\n\r\n                            if(ageAtMarriage - 28 > 0) value.Number -= difference * .32; //Years they were single before marriage\r\n                            else if(ageAtMarriage < ageAtDivorce) value.Number += difference * .15; //Years of Marriage\r\n                            else value.Number -= difference * .32; //Years after divorce\r\n                        }\r\n                    }\r\n                }\r\n                else if(client.gender == 'Female') {\r\n                    if(parseInt(value.Age) >= 25 && parseInt(value.Age) <= 70) {\r\n                        difference = parseInt(clientResultsData[i-1].Number) - parseInt(clientResultsData[i].Number);\r\n                        var ageAtMarriage = parseInt(value.Age) - client.yearsOfMarriage;\r\n\r\n                        if(client.maritalStatus == 'Single/Never Married') value.Number -= difference * .32; //Always Single\r\n\r\n                        else if(client.maritalStatus == 'Married/Cohabitated') {\r\n                            if(ageAtMarriage > parseInt(value.Age)) value.Number -= difference * .32; //Years they were single\r\n                            else value.Number += difference * .15; //Years of marriage\r\n                        }\r\n\r\n                        else if(client.maritalStatus == 'Widowed') {\r\n                            ageAtMarriage -= client.yearsSinceSpousePassing;\r\n                            var ageAtPassing = parseInt(value.Age) - client.yearsSinceSpousePassing;\r\n\r\n                            if(ageAtMarriage - 25 > 0) value.Number -= difference * .32; //Years they were single before marriage\r\n                            else if(ageAtMarriage < ageAtPassing) value.Number += difference * .15; //Years of Marriage\r\n                            else {\r\n                                if(parseInt(value.Age) == ageAtPassing) {\r\n                                    value.Number -= difference * .32;\r\n                                    value.Number -= difference * .66; //Year of passing\r\n                                }\r\n                                else if(parseInt(value.Age) == ageAtPassing + 1) {\r\n                                    value.Number -= difference * .32;\r\n                                    value.Number -= difference * .30; //Year after the year of passing\r\n                                }\r\n                                else value.Number -= difference * .32; //Years after passing\r\n                            }\r\n                        }\r\n\r\n                        else if(client.maritalStatus == 'Divorced') {\r\n                            ageAtMarriage -= client.yearsOfDivorce;\r\n                            var ageAtDivorce = parseInt(value.Age) - client.yearsOfDivorce;\r\n\r\n                            if(ageAtMarriage - 25 > 0) value.Number -= difference * .32; //Years they were single before marriage\r\n                            else if(ageAtMarriage < ageAtDivorce) value.Number += difference * .15; //Years of Marriage\r\n                            else value.Number -= difference * .32; //Years after divorce\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if(parseInt(value.Age) + clientResults.overallLifeExpectancy > client.age && i <= client.age + clientResults.overallLifeExpectancy) {\r\n                    clientTuples.push([client.age + Math.abs(client.age - i), parseInt(value.Number)]);\r\n                }\r\n            }\r\n        });\r\n\r\n        var spouseTuples = [];\r\n        var spouseTableAge = [];\r\n        var spouseTableValue = [];\r\n\r\n        check90 = true; \r\n        check75 = true; \r\n        check50 = true; \r\n        check25 = true; \r\n        check10 = true;\r\n        //CO-CLIENT\r\n        if(client.checkspouse) {\r\n            spouseResultsData.forEach(function(value, i) {\r\n                if(parseInt(value.Age) >= spouse.age) {\r\n                    var initialValue = parseInt(spouseResultsData[spouse.age].Number);\r\n                    //var tempValueNumber = parseInt(value.Number);\r\n\r\n                    //OCCUPATION\r\n                    if(parseInt(value.Age) <= 67) value.Number = parseInt(value.Number) - self.user.spouseOccupation.occupationChangeInLifeExpectancy;\r\n                    \r\n                    //MARITAL STATUS\r\n                    if(spouse.gender == 'male' || spouse.gender == 'Male') {\r\n                        if(parseInt(value.Age) >= 28 && parseInt(value.Age) <= 70) {\r\n                            difference = parseInt(spouseResultsData[i-1].Number) - parseInt(spouseResultsData[i].Number);\r\n                            if(spouse.maritalStatus == 'Single/Never Married') value.Number -= difference * .32; //Always Single\r\n                            else if(spouse.maritalStatus == 'Married/Cohabitated') value.Number += difference * .15; //Years of marriage\r\n                            else if(spouse.maritalStatus == 'Widowed') value.Number -= difference * .32; //Years after passing\r\n                            else if(spouse.maritalStatus == 'Divorced') value.Number -= difference * .32; //Years after divorce\r\n                        }\r\n                    }\r\n                    else if(spouse.gender == 'Female') {\r\n                        if(parseInt(value.Age) >= 25 && parseInt(value.Age) <= 70) {\r\n                            difference = parseInt(spouseResultsData[i-1].Number) - parseInt(spouseResultsData[i].Number);\r\n                            if(spouse.maritalStatus == 'Single/Never Married') value.Number -= difference * .32; //Always Single\r\n                            else if(spouse.maritalStatus == 'Married/Cohabitated') value.Number += difference * .15; //Years of marriage\r\n                            else if(spouse.maritalStatus == 'Widowed') value.Number -= difference * .32; //Years after passing\r\n                            else if(spouse.maritalStatus == 'Divorced') value.Number -= difference * .32; //Years after divorce\r\n                        }\r\n                    }\r\n                    \r\n                    //GET PERCENTILES\r\n                    if(i > 0) {\r\n                        age = spouseResultsData[i-1].Age;\r\n                        less = parseFloat(spouseResultsData[i].Number);\r\n                        more = parseFloat(spouseResultsData[i-1].Number);\r\n                        \r\n                        if(check90) {\r\n                            if(self.getPercent(initialValue, less, more, .90) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .90);\r\n                                spouseTableAge.push((parseInt(age) + number + parseFloat(spouseResults.overallLifeExpectancy)).toFixed(2));\r\n                                spouseTableValue.push(\"90%\");\r\n                                check90 = false;\r\n                            }\r\n                        }\r\n                        if(check75) {\r\n                            if(self.getPercent(initialValue, less, more, .75) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .75);\r\n                                spouseTableAge.push((parseInt(age) + number + parseFloat(spouseResults.overallLifeExpectancy)).toFixed(2));\r\n                                spouseTableValue.push(\"75%\");\r\n                                check75 = false;\r\n                            }\r\n                        }\r\n                        if(check50) {\r\n                            if(self.getPercent(initialValue, less, more, .50) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .50);\r\n                                spouseTableAge.push((parseInt(age) + number + parseFloat(spouseResults.overallLifeExpectancy)).toFixed(2));\r\n                                spouseTableValue.push(\"50%\");\r\n\r\n                                spouseResults.finalLifeExpectancy = (parseInt(age) + number + parseFloat(spouseResults.overallLifeExpectancy)).toFixed(2);\r\n                                check50 = false;\r\n                            }\r\n                        }\r\n                        if(check25) {\r\n                            if(self.getPercent(initialValue, less, more, .25) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .25);\r\n                                spouseTableAge.push((parseInt(age) + number + parseFloat(spouseResults.overallLifeExpectancy)).toFixed(2));\r\n                                spouseTableValue.push(\"25%\");\r\n                                check25 = false;\r\n                            }\r\n                        }\r\n                        if(check10) {\r\n                            if(self.getPercent(initialValue, less, more, .10) != false) {\r\n                                number = self.getPercent(initialValue, less, more, .10);\r\n                                spouseTableAge.push((parseInt(age) + number + parseFloat(spouseResults.overallLifeExpectancy)).toFixed(2));\r\n                                spouseTableValue.push(\"10%\");\r\n                                check10 = false;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if(parseInt(value.Age) + spouseResults.overallLifeExpectancy < spouse.age) {\r\n                        spouseTuples.push([parseInt(value.Age), parseInt(value.Number)]);\r\n                    }\r\n                    else spouseTuples.push([parseInt(value.Age) + Math.trunc(spouseResults.overallLifeExpectancy), parseInt(value.Number)]);\r\n                    //value.Number = tempValueNumber;\r\n                } //PAST MARITAL STATUS \r\n                else if(parseInt(value.Age) < spouse.age) {\r\n                    if(spouse.gender == 'male' || spouse.gender == 'Male') {\r\n                        if(parseInt(value.Age) >= 28 && parseInt(value.Age) <= 70) {\r\n                            difference = parseInt(spouseResultsData[i-1].Number) - parseInt(spouseResultsData[i].Number);\r\n                            var ageAtMarriage = parseInt(value.Age) - spouse.yearsOfMarriage;\r\n\r\n                            if(spouse.maritalStatus == 'Single/Never Married') value.Number -= difference * .32; //Always Single\r\n\r\n                            else if(spouse.maritalStatus == 'Married/Cohabitated') {\r\n                                if(ageAtMarriage > parseInt(value.Age)) value.Number -= difference * .32; //Years they were single\r\n                                else value.Number += difference * .15; //Years of marriage\r\n                            }\r\n\r\n                            else if(spouse.maritalStatus == 'Widowed') {\r\n                                ageAtMarriage -= spouse.yearsSinceSpousePassing;\r\n                                var ageAtPassing = parseInt(value.Age) - spouse.yearsSinceSpousePassing;\r\n\r\n                                if(ageAtMarriage - 28 > 0) value.Number -= difference * .32; //Years they were single before marriage\r\n                                else if(ageAtMarriage < ageAtPassing) value.Number += difference * .15; //Years of Marriage\r\n                                else {\r\n                                    if(parseInt(value.Age) == ageAtPassing) {\r\n                                        value.Number -= difference * .32;\r\n                                        value.Number -= difference * .66; //Year of passing\r\n                                    }\r\n                                    else if(parseInt(value.Age) == ageAtPassing + 1) {\r\n                                        value.Number -= difference * .32;\r\n                                        value.Number -= difference * .30; //Year after the year of passing\r\n                                    }\r\n                                    else value.Number -= difference * .32; //Years after passing\r\n                                }\r\n                            }\r\n\r\n                            else if(spouse.maritalStatus == 'Divorced') {\r\n                                ageAtMarriage -= spouse.yearsOfDivorce;\r\n                                var ageAtDivorce = parseInt(value.Age) - spouse.yearsOfDivorce;\r\n\r\n                                if(ageAtMarriage - 28 > 0) value.Number -= difference * .32; //Years they were single before marriage\r\n                                else if(ageAtMarriage < ageAtDivorce) value.Number += difference * .15; //Years of Marriage\r\n                                else value.Number -= difference * .32; //Years after divorce\r\n                            }\r\n                        }\r\n                    }\r\n                    else if(spouse.gender == 'Female') {\r\n                        if(parseInt(value.Age) >= 25 && parseInt(value.Age) <= 70) {\r\n                            difference = parseInt(spouseResultsData[i-1].Number) - parseInt(spouseResultsData[i].Number);\r\n                            var ageAtMarriage = parseInt(value.Age) - spouse.yearsOfMarriage;\r\n\r\n                            if(spouse.maritalStatus == 'Single/Never Married') value.Number -= difference * .32; //Always Single\r\n\r\n                            else if(spouse.maritalStatus == 'Married/Cohabitated') {\r\n                                if(ageAtMarriage > parseInt(value.Age)) value.Number -= difference * .32; //Years they were single\r\n                                else value.Number += difference * .15; //Years of marriage\r\n                            }\r\n\r\n                            else if(spouse.maritalStatus == 'Widowed') {\r\n                                ageAtMarriage -= spouse.yearsSinceSpousePassing;\r\n                                var ageAtPassing = parseInt(value.Age) - spouse.yearsSinceSpousePassing;\r\n\r\n                                if(ageAtMarriage - 25 > 0) value.Number -= difference * .32; //Years they were single before marriage\r\n                                else if(ageAtMarriage < ageAtPassing) value.Number += difference * .15; //Years of Marriage\r\n                                else {\r\n                                    if(parseInt(value.Age) == ageAtPassing) {\r\n                                        value.Number -= difference * .32;\r\n                                        value.Number -= difference * .66; //Year of passing\r\n                                    }\r\n                                    else if(parseInt(value.Age) == ageAtPassing + 1) {\r\n                                        value.Number -= difference * .32;\r\n                                        value.Number -= difference * .30; //Year after the year of passing\r\n                                    }\r\n                                    else value.Number -= difference * .32; //Years after passing\r\n                                }\r\n                            }\r\n\r\n                            else if(spouse.maritalStatus == 'Divorced') {\r\n                                ageAtMarriage -= spouse.yearsOfDivorce;\r\n                                var ageAtDivorce = parseInt(value.Age) - spouse.yearsOfDivorce;\r\n\r\n                                if(ageAtMarriage - 25 > 0) value.Number -= difference * .32; //Years they were single before marriage\r\n                                else if(ageAtMarriage < ageAtDivorce) value.Number += difference * .15; //Years of Marriage\r\n                                else value.Number -= difference * .32; //Years after divorce\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(parseInt(value.Age) + spouseResults.overallLifeExpectancy > spouse.age && i <= spouse.age + spouseResults.overallLifeExpectancy) {\r\n                    spouseTuples.push([spouse.age + Math.abs(spouse.age - i), parseInt(value.Number)]);\r\n                }\r\n            });\r\n        }\r\n\r\n        \r\n        //GET TUPLES FOR GRAPH\r\n        clientResults.clientTuples = clientTuples;\r\n        spouseResults.spouseTuples = spouseTuples;\r\n        clientResults.averageTuples = averageTuples;\r\n        spouseResults.spouseAverageTuples = spouseAverageTuples;\r\n\r\n        //GET AGES FOR TABLE\r\n        clientResults.clientTableAge = clientTableAge;\r\n        spouseResults.spouseTableAge = spouseTableAge;\r\n        clientResults.averageTableAge = averageTableAge;\r\n        spouseResults.spouseAverageTableAge = spouseAverageTableAge;\r\n\r\n        //GET VALUES FOR TABLE\r\n        clientResults.clientTableValue = clientTableValue;\r\n        spouseResults.spouseTableValue = spouseTableValue;\r\n        clientResults.averageTableValue = averageTableValue;\r\n        spouseResults.spouseAverageTableValue = spouseAverageTableValue;\r\n    }\r\n\r\n    async calculateSpouseDiesEarly(client, clientResults, spouse, spouseResults) {\r\n        let clientEthnicityExpectancy = await this.httpClient.fetch('/api/life-table/' + client.race.toLowerCase() + '-' + client.gender.toLowerCase() + '.json');\r\n        let clientResultsData = await clientEthnicityExpectancy.json();\r\n       \r\n        let spouseEthnicityExpectancy = await this.httpClient.fetch('/api/life-table/' + spouse.race.toLowerCase() + '-' + spouse.gender.toLowerCase() + '.json');\r\n        let spouseResultsData = await spouseEthnicityExpectancy.json();\r\n\r\n        this.getTestTuples(clientResultsData, client, clientResults,\r\n            spouseResultsData, spouse, spouseResults);\r\n    }\r\n}"],"sourceRoot":".."}